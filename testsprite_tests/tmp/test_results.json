[
  {
    "projectId": "2dd79580-0ea6-4ee2-b674-779917bbbb62",
    "testId": "09b9e3aa-db07-4316-8a89-73085173eeeb",
    "userId": "9448f488-3041-7031-4f14-e580690284c6",
    "title": "TC001-Successful Login with Valid Credentials",
    "description": "Verify that users can log in successfully using valid email and password credentials.",
    "code": "import asyncio\nfrom playwright import async_api\n\nasync def run_test():\n    pw = None\n    browser = None\n    context = None\n\n    try:\n        # Start a Playwright session in asynchronous mode\n        pw = await async_api.async_playwright().start()\n\n        # Launch a Chromium browser in headless mode with custom arguments\n        browser = await pw.chromium.launch(\n            headless=True,\n            args=[\n                \"--window-size=1280,720\",         # Set the browser window size\n                \"--disable-dev-shm-usage\",        # Avoid using /dev/shm which can cause issues in containers\n                \"--ipc=host\",                     # Use host-level IPC for better stability\n                \"--single-process\"                # Run the browser in a single process mode\n            ],\n        )\n\n        # Create a new browser context (like an incognito window)\n        context = await browser.new_context()\n        context.set_default_timeout(5000)\n\n        # Open a new page in the browser context\n        page = await context.new_page()\n\n        # Navigate to your target URL and wait until the network request is committed\n        await page.goto(\"http://localhost:5173/manowzab-sales/\", wait_until=\"commit\", timeout=10000)\n\n        # Wait for the main page to reach DOMContentLoaded state (optional for stability)\n        try:\n            await page.wait_for_load_state(\"domcontentloaded\", timeout=3000)\n        except async_api.Error:\n            pass\n\n        # Iterate through all iframes and wait for them to load as well\n        for frame in page.frames:\n            try:\n                await frame.wait_for_load_state(\"domcontentloaded\", timeout=3000)\n            except async_api.Error:\n                pass\n\n        # Interact with the page elements to simulate user flow\n        # -> Navigate to http://localhost:5173/manowzab-sales/\n        await page.goto(\"http://localhost:5173/manowzab-sales/\", wait_until=\"commit\", timeout=10000)\n        \n        # -> Fill the email field (index 52) and password field (index 57), then click the Sign in button (index 60).\n        frame = context.pages[-1]\n        # Input text\n        elem = frame.locator('xpath=html/body/div/div/div/form/div[1]/div[1]/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('peng24@gmail.com')\n        \n        frame = context.pages[-1]\n        # Input text\n        elem = frame.locator('xpath=html/body/div/div/div/form/div[1]/div[2]/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('peng24@31197012')\n        \n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=html/body/div/div/div/form/div[2]/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        # --> Assertions to verify final state\n        frame = context.pages[-1]\n        # -> Assertions: verify user is authenticated and redirected to the dashboard\n        frame = context.pages[-1]\n        # Wait for a dashboard-specific element to appear\n        await frame.wait_for_selector(\"text=Dashboard\", timeout=10000)\n        # Assert the Dashboard heading is visible\n        assert await frame.locator(\"text=Dashboard\").is_visible(), \"Dashboard heading not visible - login may have failed\"\n        # Assert a dashboard-specific summary is visible (sales summary)\n        assert await frame.locator(\"text=ยอดขายรวม\").is_visible(), \"Sales summary not visible on dashboard - login may have failed\"\n        # Assert a logout/action link is present indicating an authenticated session\n        assert await frame.locator(\"text=ออกจากระบบ\").is_visible(), \"Logout link not visible - user might not be authenticated\"\n        await asyncio.sleep(5)\n\n    finally:\n        if context:\n            await context.close()\n        if browser:\n            await browser.close()\n        if pw:\n            await pw.stop()\n\nasyncio.run(run_test())\n    ",
    "testStatus": "PASSED",
    "testError": "",
    "testType": "FRONTEND",
    "createFrom": "mcp",
    "testVisualization": "https://testsprite-videos.s3.us-east-1.amazonaws.com/9448f488-3041-7031-4f14-e580690284c6/1770624042268079//tmp/test_task/result.webm",
    "created": "2026-02-09T07:58:52.877Z",
    "modified": "2026-02-09T08:00:42.425Z"
  },
  {
    "projectId": "2dd79580-0ea6-4ee2-b674-779917bbbb62",
    "testId": "3bf7af39-4ac5-410d-a26d-bd657601f285",
    "userId": "9448f488-3041-7031-4f14-e580690284c6",
    "title": "TC002-Login Failure with Invalid Credentials",
    "description": "Verify that login fails with incorrect email or password and displays an appropriate error message.",
    "code": "import asyncio\nfrom playwright import async_api\n\nasync def run_test():\n    pw = None\n    browser = None\n    context = None\n\n    try:\n        # Start a Playwright session in asynchronous mode\n        pw = await async_api.async_playwright().start()\n\n        # Launch a Chromium browser in headless mode with custom arguments\n        browser = await pw.chromium.launch(\n            headless=True,\n            args=[\n                \"--window-size=1280,720\",         # Set the browser window size\n                \"--disable-dev-shm-usage\",        # Avoid using /dev/shm which can cause issues in containers\n                \"--ipc=host\",                     # Use host-level IPC for better stability\n                \"--single-process\"                # Run the browser in a single process mode\n            ],\n        )\n\n        # Create a new browser context (like an incognito window)\n        context = await browser.new_context()\n        context.set_default_timeout(5000)\n\n        # Open a new page in the browser context\n        page = await context.new_page()\n\n        # Navigate to your target URL and wait until the network request is committed\n        await page.goto(\"http://localhost:5173/manowzab-sales/\", wait_until=\"commit\", timeout=10000)\n\n        # Wait for the main page to reach DOMContentLoaded state (optional for stability)\n        try:\n            await page.wait_for_load_state(\"domcontentloaded\", timeout=3000)\n        except async_api.Error:\n            pass\n\n        # Iterate through all iframes and wait for them to load as well\n        for frame in page.frames:\n            try:\n                await frame.wait_for_load_state(\"domcontentloaded\", timeout=3000)\n            except async_api.Error:\n                pass\n\n        # Interact with the page elements to simulate user flow\n        # -> Navigate to http://localhost:5173/manowzab-sales/\n        await page.goto(\"http://localhost:5173/manowzab-sales/\", wait_until=\"commit\", timeout=10000)\n        \n        # -> Enter the provided invalid email into the email field (index 52), enter the incorrect password into the password field (index 57), then click the Sign in button (index 60) to attempt login.\n        frame = context.pages[-1]\n        # Input text\n        elem = frame.locator('xpath=html/body/div/div/div/form/div[1]/div[1]/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('peng24@gmail.com')\n        \n        frame = context.pages[-1]\n        # Input text\n        elem = frame.locator('xpath=html/body/div/div/div/form/div[1]/div[2]/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('peng24@31197012')\n        \n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=html/body/div/div/div/form/div[2]/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        # --> Assertions to verify final state\n        frame = context.pages[-1]\n        try:\n            await expect(frame.locator('text=Invalid email or password').first).to_be_visible(timeout=3000)\n        except AssertionError:\n            raise AssertionError(\"Test case failed: the login attempt with an invalid email/password should have been denied and displayed an 'Invalid email or password' error message, but no such message was found\")\n        await asyncio.sleep(5)\n\n    finally:\n        if context:\n            await context.close()\n        if browser:\n            await browser.close()\n        if pw:\n            await pw.stop()\n\nasyncio.run(run_test())\n    ",
    "testStatus": "FAILED",
    "testError": "Summary of verification:\n\n- Credentials used: email 'peng24@gmail.com', password 'peng24@31197012'.\n- Exact visible error message text(s): None found. No text containing 'invalid', 'incorrect', 'failed', 'unauthorized', 'credentials', nor any alert/snackbar messages was visible.\n- Redirect / page info: Current tab URL: http://localhost:5173/manowzab-sales/#/ . Page title observed earlier: 'Sign in to SalesPilot'. The sign-in page remained visible after the login attempt (no redirect to a dashboard). Current screenshot/viewport is blank and no interactive elements are present in the current view.\n- Conclusion: Login did not succeed (no indication of successful login and the sign-in page remained). However, the page did not display an appropriate error message for invalid credentials. Therefore the requirement to verify that login fails and displays an appropriate error message is NOT met.\n\nAdditional notes:\n- The login flow executed: navigation -> input email -> input password -> click Sign in -> waited for response. A spinner appeared during the request earlier but after waiting there was no visible error alert.\n- Current state shows an empty/blank viewport with no interactive elements; this may indicate a rendering issue or that elements are inside a shadow DOM not visible in the current snapshot.\n\nResult: Task incomplete (expected error message not displayed).",
    "testType": "FRONTEND",
    "createFrom": "mcp",
    "testVisualization": "https://testsprite-videos.s3.us-east-1.amazonaws.com/9448f488-3041-7031-4f14-e580690284c6/1770624060164418//tmp/test_task/result.webm",
    "created": "2026-02-09T07:58:52.881Z",
    "modified": "2026-02-09T08:01:00.279Z"
  },
  {
    "projectId": "2dd79580-0ea6-4ee2-b674-779917bbbb62",
    "testId": "172b3499-53e8-47c4-90fe-dc7cb84bd319",
    "userId": "9448f488-3041-7031-4f14-e580690284c6",
    "title": "TC003-Access Denied to Protected Routes without Authentication",
    "description": "Verify that unauthenticated users cannot access protected application routes and are redirected to login.",
    "code": "import asyncio\nfrom playwright import async_api\n\nasync def run_test():\n    pw = None\n    browser = None\n    context = None\n\n    try:\n        # Start a Playwright session in asynchronous mode\n        pw = await async_api.async_playwright().start()\n\n        # Launch a Chromium browser in headless mode with custom arguments\n        browser = await pw.chromium.launch(\n            headless=True,\n            args=[\n                \"--window-size=1280,720\",         # Set the browser window size\n                \"--disable-dev-shm-usage\",        # Avoid using /dev/shm which can cause issues in containers\n                \"--ipc=host\",                     # Use host-level IPC for better stability\n                \"--single-process\"                # Run the browser in a single process mode\n            ],\n        )\n\n        # Create a new browser context (like an incognito window)\n        context = await browser.new_context()\n        context.set_default_timeout(5000)\n\n        # Open a new page in the browser context\n        page = await context.new_page()\n\n        # Navigate to your target URL and wait until the network request is committed\n        await page.goto(\"http://localhost:5173/manowzab-sales/\", wait_until=\"commit\", timeout=10000)\n\n        # Wait for the main page to reach DOMContentLoaded state (optional for stability)\n        try:\n            await page.wait_for_load_state(\"domcontentloaded\", timeout=3000)\n        except async_api.Error:\n            pass\n\n        # Iterate through all iframes and wait for them to load as well\n        for frame in page.frames:\n            try:\n                await frame.wait_for_load_state(\"domcontentloaded\", timeout=3000)\n            except async_api.Error:\n                pass\n\n        # Interact with the page elements to simulate user flow\n        # -> Navigate to http://localhost:5173/manowzab-sales/\n        await page.goto(\"http://localhost:5173/manowzab-sales/\", wait_until=\"commit\", timeout=10000)\n        \n        # -> Navigate to protected route /manowzab-sales/dashboard to verify whether unauthenticated users are redirected to the login page.\n        await page.goto(\"http://localhost:5173/manowzab-sales/dashboard\", wait_until=\"commit\", timeout=10000)\n        \n        # --> Assertions to verify final state\n        frame = context.pages[-1]\n        # -> Assert that unauthenticated navigation to a protected route redirected to the login page\n        await page.wait_for_selector(\"text=Sign in to SalesPilot\", timeout=5000)\n        assert await page.locator(\"text=Sign in to SalesPilot\").is_visible()\n        # -> Verify common login form fields are present\n        assert await page.locator(\"text=Email address\").is_visible()\n        assert await page.locator(\"text=Password\").is_visible()\n        assert await page.locator(\"text=Sign in\").is_visible()\n        # -> Ensure the URL does not contain the protected route segment (redirect occurred)\n        assert \"dashboard\" not in page.url.lower()\n        await asyncio.sleep(5)\n\n    finally:\n        if context:\n            await context.close()\n        if browser:\n            await browser.close()\n        if pw:\n            await pw.stop()\n\nasyncio.run(run_test())\n    ",
    "testStatus": "PASSED",
    "testError": "",
    "testType": "FRONTEND",
    "createFrom": "mcp",
    "testVisualization": "https://testsprite-videos.s3.us-east-1.amazonaws.com/9448f488-3041-7031-4f14-e580690284c6/177062402906323//tmp/test_task/result.webm",
    "created": "2026-02-09T07:58:52.886Z",
    "modified": "2026-02-09T08:00:29.212Z"
  },
  {
    "projectId": "2dd79580-0ea6-4ee2-b674-779917bbbb62",
    "testId": "ddcc4f30-d991-49c2-bdf9-24892d0272c1",
    "userId": "9448f488-3041-7031-4f14-e580690284c6",
    "title": "TC004-Display Real-time Sales Overview on Dashboard",
    "description": "Verify that the dashboard displays real-time sales data with summary cards, time filters, sales charts, and recent transactions correctly.",
    "code": "import asyncio\nfrom playwright import async_api\n\nasync def run_test():\n    pw = None\n    browser = None\n    context = None\n\n    try:\n        # Start a Playwright session in asynchronous mode\n        pw = await async_api.async_playwright().start()\n\n        # Launch a Chromium browser in headless mode with custom arguments\n        browser = await pw.chromium.launch(\n            headless=True,\n            args=[\n                \"--window-size=1280,720\",         # Set the browser window size\n                \"--disable-dev-shm-usage\",        # Avoid using /dev/shm which can cause issues in containers\n                \"--ipc=host\",                     # Use host-level IPC for better stability\n                \"--single-process\"                # Run the browser in a single process mode\n            ],\n        )\n\n        # Create a new browser context (like an incognito window)\n        context = await browser.new_context()\n        context.set_default_timeout(5000)\n\n        # Open a new page in the browser context\n        page = await context.new_page()\n\n        # Navigate to your target URL and wait until the network request is committed\n        await page.goto(\"http://localhost:5173/manowzab-sales/\", wait_until=\"commit\", timeout=10000)\n\n        # Wait for the main page to reach DOMContentLoaded state (optional for stability)\n        try:\n            await page.wait_for_load_state(\"domcontentloaded\", timeout=3000)\n        except async_api.Error:\n            pass\n\n        # Iterate through all iframes and wait for them to load as well\n        for frame in page.frames:\n            try:\n                await frame.wait_for_load_state(\"domcontentloaded\", timeout=3000)\n            except async_api.Error:\n                pass\n\n        # Interact with the page elements to simulate user flow\n        # -> Navigate to http://localhost:5173/manowzab-sales/\n        await page.goto(\"http://localhost:5173/manowzab-sales/\", wait_until=\"commit\", timeout=10000)\n        \n        # -> Fill email and password fields, then click 'Sign in' to log into the dashboard.\n        frame = context.pages[-1]\n        # Input text\n        elem = frame.locator('xpath=html/body/div/div/div/form/div[1]/div[1]/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('peng24@gmail.com')\n        \n        frame = context.pages[-1]\n        # Input text\n        elem = frame.locator('xpath=html/body/div/div/div/form/div[1]/div[2]/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('peng24@31197012')\n        \n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=html/body/div/div/div/form/div[2]/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        # -> Reload the dashboard page (navigate to the same URL) to trigger the SPA to load, then inspect the page for login or dashboard interactive elements.\n        await page.goto(\"http://localhost:5173/manowzab-sales/#/\", wait_until=\"commit\", timeout=10000)\n        \n        # -> Open the time-filter dropdown so individual filter options can be selected (to begin verifying each time filter and chart/transaction updates).\n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=html/body/div/div/div/main/div/div[2]/div/div[1]/div[2]/select').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        # -> Open the time-filter dropdown to enumerate available filter options and begin applying each filter.\n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=html/body/div/div/div/main/div/div[2]/div/div[1]/div[2]/select').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        # -> Reload the dashboard page to restore the SPA UI and then re-enumerate the time-filter dropdown options so filters can be applied programmatically.\n        await page.goto(\"http://localhost:5173/manowzab-sales/#/\", wait_until=\"commit\", timeout=10000)\n        \n        await asyncio.sleep(5)\n\n    finally:\n        if context:\n            await context.close()\n        if browser:\n            await browser.close()\n        if pw:\n            await pw.stop()\n\nasyncio.run(run_test())\n    ",
    "testStatus": "FAILED",
    "testError": "Verification report (partial)\n\nSummary of findings:\n- Authentication & navigation: Successful. Dashboard loaded after login.\n- Summary cards: Programmatically extracted for 'This Month' and match visible UI: totalSales = ฿7,810; orders = 20; transfer = ฿3,190; COD = ฿4,620. These values are saved in extracted_content_0.md.\n- Recent transactions: Top recent transactions for 'This Month' were extracted and saved in extracted_content_0.md (up to 10 items).\n- Time filters: The dashboard UI provides these dropdown options: วันนี้ (Today), สัปดาห์นี้ (This Week), เดือนนี้ (This Month), ปีนี้ (This Year). The requested filters 'last 30 days' and 'last month' are not present as explicit dropdown options (suggest using thisWeek or selectMonth to approximate). Only 'This Month' was extracted programmatically. Attempts to select other filters programmatically failed due to stale node/no-node errors after the SPA re-rendered (dropdown node ids changed).\n- Charts: Chart area is present but displayed a loading spinner during checks; no programmatic chart data was captured to verify chart updates for different filters.\n\nWhat was completed:\n- Login & navigation: done\n- Programmatic extraction: 'This Month' summary and top transactions saved to extracted_content_0.md\n\nWhat was not completed (blockers):\n- Programmatic verification for 'Today', 'This Week', 'This Year', 'selectMonth/custom month' not completed (node-staleness and selection errors). 5 filter verifications remain.\n- 'Last 30 days' and 'Last month' do not have direct dropdown options in the UI; cannot verify them exactly via dropdown selection.\n- Chart update verification: not completed (loading spinner, no captured series data).\n\nRecommended next steps to finish verification:\n1) Re-open the time-filter dropdown using the current select element (index shown in page state) and call dropdown_options on that node immediately, then select options sequentially (today, thisWeek, thisYear, selectMonth) and extract summary + transactions after each selection.\n2) If node-staleness reoccurs, perform a short wait after selection or reload the page and then immediately operate on the newly returned node ids.\n3) For 'last 30 days' and 'last month', use selectMonth or a custom date-range control (if available) or perform programmatic queries to the backend API used by the dashboard.\n4) Capture chart SVG/Canvas data or API responses for chart verification.\n\nCredentials used (test): peng24@gmail.com / provided password.\n\nConclusion: Dashboard UI renders and shows summary cards, time-filter control, chart area, and transactions. Programmatic verification is incomplete: only 'This Month' was fully extracted. Automation blocked by stale node errors when selecting dropdown options and by missing direct dropdown options for some requested ranges. Manual verification or a targeted re-run with immediate dropdown interaction is recommended to complete the remaining checks.\n\n\nAttachments:\n\nextracted_content_0.md:\n<url>\nhttp://localhost:5173/manowzab-sales/#/\n</url>\n<query>\nExtract the dashboard summary card values and the top recent transactions visible on the page. Return JSON with: { summary: { totalSales: string, orders: string_or_number, transfer: string, cod: string }, transactions: [ up to 10 items with { date: string_if_present, orderNo: string, customer: string, type: string (TRANSFER or COD), amount: string, trackingNo: string_if_present } ] }. Use the current page state (This Month selected). Do not include unrelated UI text. Do not follow links. Provide only the extracted structured data.\n</query>\n<result>\n{\n  \"summary\": {\n    \"totalSales\": \"฿7,810\",\n    \"orders\": 20,\n    \"transfer\": \"฿3,190\",\n    \"cod\": \"฿4,620\"\n  },\n  \"transactions\": [\n    {\n      \"date\": \"-\",\n      \"orderNo\": \"ORD-260204-PNZY\",\n      \"customer\": \"อมรา\",\n      \"type\": \"TRANSFER\",\n      \"amount\": \"฿240\",\n      \"trackingNo\": null\n    },\n    {\n      \"date\": \"-\",\n      \"orderNo\": \"TH47198B00EJ8G\",\n      \"customer\": \"คุณกนกวรรณ วารีสุวรรณ\",\n      \"type\": \"COD\",\n      \"amount\": \"฿480\",\n      \"trackingNo\": null\n    },\n    {\n      \"date\": \"-\",\n      \"orderNo\": \"TH14018B00552J\",\n      \"customer\": \"คุณอัปสร วงศ์สกุลเกียรติ\",\n      \"type\": \"COD\",\n      \"amount\": \"฿210\",\n      \"trackingNo\": null\n    },\n    {\n      \"date\": \"-\",\n      \"orderNo\": \"TH20048AZZ2F0B6\",\n      \"customer\": \"บุษบา แก้วกล้า\",\n      \"type\": \"COD\",\n      \"amount\": \"฿210\",\n      \"trackingNo\": null\n    },\n    {\n      \"date\": \"-\",\n      \"orderNo\": \"ORD-260204-9K6K\",\n      \"customer\": \"เมธินี\",\n      \"type\": \"TRANSFER\",\n      \"amount\": \"฿950\",\n      \"trackingNo\": null\n    },\n    {\n      \"date\": \"-\",\n      \"orderNo\": \"TH54098AUBG27B\",\n      \"customer\": \"คุณยุพิน\",\n      \"type\": \"COD\",\n      \"amount\": \"฿400\",\n      \"trackingNo\": null\n    },\n    {\n      \"date\": \"-\",\n      \"orderNo\": \"TH20018AUB6B0D\",\n      \"customer\": \"คุณวรรณี เบ็ญจามภิญโญ\",\n      \"type\": \"COD\",\n      \"amount\": \"฿240\",\n      \"trackingNo\": null\n    },\n    {\n      \"date\": \"-\",\n      \"orderNo\": \"ORD-260204-QCUJ\",\n      \"customer\": \"องุ่น\",\n      \"type\": \"TRANSFER\",\n      \"amount\": \"฿440\",\n      \"trackingNo\": null\n    },\n    {\n      \"date\": \"-\",\n      \"orderNo\": \"ORD-260204-10RI\",\n      \"customer\": \"กุ้ง\",\n      \"type\": \"TRANSFER\",\n      \"amount\": \"฿200\",\n      \"trackingNo\": null\n    },\n    {\n      \"date\": \"-\",\n      \"orderNo\": \"TH68048AMFPB2F1\",\n      \"customer\": \"คุณพเยาว์ บุญเส็ง\",\n      \"type\": \"COD\",\n      \"amount\": \"฿560\",\n      \"trackingNo\": null\n    }\n  ]\n}\n</result>",
    "testType": "FRONTEND",
    "createFrom": "mcp",
    "testVisualization": "https://testsprite-videos.s3.us-east-1.amazonaws.com/9448f488-3041-7031-4f14-e580690284c6/1770624502416959//tmp/test_task/result.webm",
    "created": "2026-02-09T07:58:52.891Z",
    "modified": "2026-02-09T08:08:22.553Z"
  },
  {
    "projectId": "2dd79580-0ea6-4ee2-b674-779917bbbb62",
    "testId": "a298040d-abd9-418f-b00c-e075f144c2d4",
    "userId": "9448f488-3041-7031-4f14-e580690284c6",
    "title": "TC005-Create Transfer Sales Entry with Valid Data",
    "description": "Verify that a transfer sale can be added successfully through the form with valid inputs including auto-generated order number and customer autocomplete.",
    "code": "import asyncio\nfrom playwright import async_api\n\nasync def run_test():\n    pw = None\n    browser = None\n    context = None\n\n    try:\n        # Start a Playwright session in asynchronous mode\n        pw = await async_api.async_playwright().start()\n\n        # Launch a Chromium browser in headless mode with custom arguments\n        browser = await pw.chromium.launch(\n            headless=True,\n            args=[\n                \"--window-size=1280,720\",         # Set the browser window size\n                \"--disable-dev-shm-usage\",        # Avoid using /dev/shm which can cause issues in containers\n                \"--ipc=host\",                     # Use host-level IPC for better stability\n                \"--single-process\"                # Run the browser in a single process mode\n            ],\n        )\n\n        # Create a new browser context (like an incognito window)\n        context = await browser.new_context()\n        context.set_default_timeout(5000)\n\n        # Open a new page in the browser context\n        page = await context.new_page()\n\n        # Navigate to your target URL and wait until the network request is committed\n        await page.goto(\"http://localhost:5173/manowzab-sales/\", wait_until=\"commit\", timeout=10000)\n\n        # Wait for the main page to reach DOMContentLoaded state (optional for stability)\n        try:\n            await page.wait_for_load_state(\"domcontentloaded\", timeout=3000)\n        except async_api.Error:\n            pass\n\n        # Iterate through all iframes and wait for them to load as well\n        for frame in page.frames:\n            try:\n                await frame.wait_for_load_state(\"domcontentloaded\", timeout=3000)\n            except async_api.Error:\n                pass\n\n        # Interact with the page elements to simulate user flow\n        # -> Navigate to http://localhost:5173/manowzab-sales/\n        await page.goto(\"http://localhost:5173/manowzab-sales/\", wait_until=\"commit\", timeout=10000)\n        \n        # -> Sign in using provided credentials to reach the dashboard (fill email, password, click Sign in).\n        frame = context.pages[-1]\n        # Input text\n        elem = frame.locator('xpath=html/body/div/div/div/form/div[1]/div[1]/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('peng24@gmail.com')\n        \n        frame = context.pages[-1]\n        # Input text\n        elem = frame.locator('xpath=html/body/div/div/div/form/div[1]/div[2]/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('peng24@31197012')\n        \n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=html/body/div/div/div/form/div[2]/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        # -> Click the sidebar link 'บันทึกยอดโอน' (Transfer Sales Entry) to open the transfer entry form.\n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=html/body/div/div/aside/nav/a[2]').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        # -> Click the sidebar link 'บันทึกยอดโอน' (Transfer Sales Entry) to open the transfer entry form (use element index 653).\n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=html/body/div/div/aside/nav/a[2]').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        # -> Fill in the date field (index 1064) with a valid date/time and start entering customer name to trigger autocomplete.\n        frame = context.pages[-1]\n        # Input text\n        elem = frame.locator('xpath=html/body/div[1]/div/div/main/div/div[1]/form/div[3]/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('9 กุมภาพันธ์ 2569')\n        \n        frame = context.pages[-1]\n        # Input text\n        elem = frame.locator('xpath=html/body/div[1]/div/div/main/div/div[1]/form/div[4]/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('อม')\n        \n        frame = context.pages[-1]\n        # Input text\n        elem = frame.locator('xpath=html/body/div[1]/div/div/main/div/div[1]/form/div[5]/div/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('123.45')\n        \n        # -> Enter customer name, amount, optional slip URL, submit the transfer form, then verify the newly saved transfer record appears with order number, customer and amount.\n        frame = context.pages[-1]\n        # Input text\n        elem = frame.locator('xpath=html/body/div/div/div/main/div/div[1]/form/div[4]/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('อมรา')\n        \n        frame = context.pages[-1]\n        # Input text\n        elem = frame.locator('xpath=html/body/div/div/div/main/div/div[1]/form/div[5]/div/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('123.45')\n        \n        frame = context.pages[-1]\n        # Input text\n        elem = frame.locator('xpath=html/body/div/div/div/main/div/div[1]/form/div[6]/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('https://example.com/slip.jpg')\n        \n        # -> Fill customer name, amount, optional slip URL, submit the transfer form to create a new transfer record so the saved record can be verified in the latest 10 list.\n        frame = context.pages[-1]\n        # Input text\n        elem = frame.locator('xpath=html/body/div/div/div/main/div/div[1]/form/div[4]/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('อมรา')\n        \n        frame = context.pages[-1]\n        # Input text\n        elem = frame.locator('xpath=html/body/div/div/div/main/div/div[1]/form/div[5]/div/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('123.45')\n        \n        frame = context.pages[-1]\n        # Input text\n        elem = frame.locator('xpath=html/body/div/div/div/main/div/div[1]/form/div[6]/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('https://example.com/slip.jpg')\n        \n        # -> Enter customer name 'อมรา' in the customer input, set amount to 123.45, set slip URL to https://example.com/slip.jpg, then submit the form (click the 'บันทึกข้อมูลการโอน' button). After this click, re-check the recent transfers list to verify the newly created record.\n        frame = context.pages[-1]\n        # Input text\n        elem = frame.locator('xpath=html/body/div/div/div/main/div/div[1]/form/div[4]/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('อมรา')\n        \n        frame = context.pages[-1]\n        # Input text\n        elem = frame.locator('xpath=html/body/div/div/div/main/div/div[1]/form/div[5]/div/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('123.45')\n        \n        frame = context.pages[-1]\n        # Input text\n        elem = frame.locator('xpath=html/body/div/div/div/main/div/div[1]/form/div[6]/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('https://example.com/slip.jpg')\n        \n        # -> Enter customer 'อมรา', set amount to 123.45, provide slip URL, then submit the form by clicking the 'บันทึกข้อมูลการโอน' button.\n        frame = context.pages[-1]\n        # Input text\n        elem = frame.locator('xpath=html/body/div/div/div/main/div/div[1]/form/div[4]/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('อมรา')\n        \n        frame = context.pages[-1]\n        # Input text\n        elem = frame.locator('xpath=html/body/div/div/div/main/div/div[1]/form/div[5]/div/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('123.45')\n        \n        frame = context.pages[-1]\n        # Input text\n        elem = frame.locator('xpath=html/body/div/div/div/main/div/div[1]/form/div[6]/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('https://example.com/slip.jpg')\n        \n        # -> Click the 'บันทึกข้อมูลการโอน' submit button to save the transfer (index 2984). After the click, verify the new record appears in the recent transfers list.\n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=html/body/div/div/div/main/div/div[1]/form/div[7]/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        # -> Fill customer (index 3327), amount (index 3328), slip URL (index 3329) and then click the submit button (index 3504) to save the transfer. After submit, re-check recent transfers for the created record.\n        frame = context.pages[-1]\n        # Input text\n        elem = frame.locator('xpath=html/body/div/div/div/main/div/div[1]/form/div[4]/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('อมรา')\n        \n        frame = context.pages[-1]\n        # Input text\n        elem = frame.locator('xpath=html/body/div/div/div/main/div/div[1]/form/div[5]/div/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('123.45')\n        \n        frame = context.pages[-1]\n        # Input text\n        elem = frame.locator('xpath=html/body/div/div/div/main/div/div[1]/form/div[6]/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('https://example.com/slip.jpg')\n        \n        # -> Confirm inputs (customer, amount, slip URL) and click the submit button (index 3504) to save the transfer, then check the recent transfers list for the newly created record.\n        frame = context.pages[-1]\n        # Input text\n        elem = frame.locator('xpath=html/body/div/div/div/main/div/div[1]/form/div[4]/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('อมรา')\n        \n        frame = context.pages[-1]\n        # Input text\n        elem = frame.locator('xpath=html/body/div/div/div/main/div/div[1]/form/div[5]/div/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('123.45')\n        \n        frame = context.pages[-1]\n        # Input text\n        elem = frame.locator('xpath=html/body/div/div/div/main/div/div[1]/form/div[6]/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('https://example.com/slip.jpg')\n        \n        # -> Enter customer 'อมรา' (index 3834), set amount 123.45 (index 3835), set slip URL https://example.com/slip.jpg (index 3836), then click submit button (index 4011) to save the transfer.\n        frame = context.pages[-1]\n        # Input text\n        elem = frame.locator('xpath=html/body/div/div/div/main/div/div[1]/form/div[4]/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('อมรา')\n        \n        frame = context.pages[-1]\n        # Input text\n        elem = frame.locator('xpath=html/body/div/div/div/main/div/div[1]/form/div[5]/div/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('123.45')\n        \n        frame = context.pages[-1]\n        # Input text\n        elem = frame.locator('xpath=html/body/div/div/div/main/div/div[1]/form/div[6]/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('https://example.com/slip.jpg')\n        \n        # -> Click the 'บันทึกข้อมูลการโอน' submit button (index 4011) to save the transfer. After that, verify the newly created record appears in the recent transfers list with correct Order No., customer and amount.\n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=html/body/div/div/div/main/div/div[1]/form/div[7]/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        # -> Fill the customer (index 4344), amount (index 4345), slip URL (index 4346), click submit (index 4519) to save the transfer, wait for the page to process, then extract the newest transfer entry to verify Order No., customer and amount and check whether Order No. matches TRF-YYYYMMDD-HHMMSS format.\n        frame = context.pages[-1]\n        # Input text\n        elem = frame.locator('xpath=html/body/div/div/div/main/div/div[1]/form/div[4]/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('อมรา')\n        \n        frame = context.pages[-1]\n        # Input text\n        elem = frame.locator('xpath=html/body/div/div/div/main/div/div[1]/form/div[5]/div/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('123.45')\n        \n        frame = context.pages[-1]\n        # Input text\n        elem = frame.locator('xpath=html/body/div/div/div/main/div/div[1]/form/div[6]/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('https://example.com/slip.jpg')\n        \n        # -> Click the submit button to save the transfer, then verify the newest record in the recent transfers list (check Order No., customer, amount and whether Order No matches TRF-YYYYMMDD-HHMMSS).\n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=html/body/div/div/div/main/div/div[1]/form/div[7]/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        await asyncio.sleep(5)\n\n    finally:\n        if context:\n            await context.close()\n        if browser:\n            await browser.close()\n        if pw:\n            await pw.stop()\n\nasyncio.run(run_test())\n    ",
    "testStatus": "FAILED",
    "testError": "Result summary:\n\n- Transfer record was successfully created and is visible in the \"รายการยอดโอนล่าสุด (10 รายการ)\" section as the newest entry.\n  - Visible top entry: Date/Time: 9 ก.พ. 69 08:07 น. | Order No.: ORD-260209-QHAP | Customer: อมรา | Amount: ฿123.45 | Slip: link present (ดูสลิป).\n- Customer autocomplete: worked — customer 'อมรา' selected and saved.\n- Amount: saved correctly as 123.45.\n- Slip URL: saved/present (https://example.com/slip.jpg).\n\nFailed assertion:\n- Auto-generated Order No. does NOT match the expected format TRF-YYYYMMDD-HHMMSS. Observed example: ORD-260209-QHAP. Because the user requirement included verifying the generated order number format, the overall verification is NOT fully satisfied.\n\nActionable recommendation:\n- If the system is expected to use the TRF-YYYYMMDD-HHMMSS format, file a bug for the order-number generator (currently produces ORD-YYYYMMDD-XXXX). If the ORD-... format is acceptable, update the test expectation accordingly.\n\nTest status: PARTIAL SUCCESS — transfer creation, customer autocomplete, amount and slip saved correctly (pass). Order-number format assertion failed (fail).\n",
    "testType": "FRONTEND",
    "createFrom": "mcp",
    "testVisualization": "https://testsprite-videos.s3.us-east-1.amazonaws.com/9448f488-3041-7031-4f14-e580690284c6/177062465332658//tmp/test_task/result.webm",
    "created": "2026-02-09T07:58:52.896Z",
    "modified": "2026-02-09T08:10:53.451Z"
  },
  {
    "projectId": "2dd79580-0ea6-4ee2-b674-779917bbbb62",
    "testId": "a8b0b321-0a24-4bb0-b1eb-bc6031e27172",
    "userId": "9448f488-3041-7031-4f14-e580690284c6",
    "title": "TC006-Transfer Sales Entry Validation Checks",
    "description": "Verify form validations on Transfer Sales Entry form including required fields and input formats.",
    "code": "import asyncio\nfrom playwright import async_api\n\nasync def run_test():\n    pw = None\n    browser = None\n    context = None\n\n    try:\n        # Start a Playwright session in asynchronous mode\n        pw = await async_api.async_playwright().start()\n\n        # Launch a Chromium browser in headless mode with custom arguments\n        browser = await pw.chromium.launch(\n            headless=True,\n            args=[\n                \"--window-size=1280,720\",         # Set the browser window size\n                \"--disable-dev-shm-usage\",        # Avoid using /dev/shm which can cause issues in containers\n                \"--ipc=host\",                     # Use host-level IPC for better stability\n                \"--single-process\"                # Run the browser in a single process mode\n            ],\n        )\n\n        # Create a new browser context (like an incognito window)\n        context = await browser.new_context()\n        context.set_default_timeout(5000)\n\n        # Open a new page in the browser context\n        page = await context.new_page()\n\n        # Navigate to your target URL and wait until the network request is committed\n        await page.goto(\"http://localhost:5173/manowzab-sales/\", wait_until=\"commit\", timeout=10000)\n\n        # Wait for the main page to reach DOMContentLoaded state (optional for stability)\n        try:\n            await page.wait_for_load_state(\"domcontentloaded\", timeout=3000)\n        except async_api.Error:\n            pass\n\n        # Iterate through all iframes and wait for them to load as well\n        for frame in page.frames:\n            try:\n                await frame.wait_for_load_state(\"domcontentloaded\", timeout=3000)\n            except async_api.Error:\n                pass\n\n        # Interact with the page elements to simulate user flow\n        # -> Navigate to http://localhost:5173/manowzab-sales/\n        await page.goto(\"http://localhost:5173/manowzab-sales/\", wait_until=\"commit\", timeout=10000)\n        \n        # -> Wait briefly for the SPA to load. If still blank, reload the page to attempt to load the app (then locate navigation or Transfer Sales Entry link).\n        await page.goto(\"http://localhost:5173/manowzab-sales/\", wait_until=\"commit\", timeout=10000)\n        \n        # -> Reload the ManowZab Sales page to attempt to load the SPA. Wait briefly after reload for the app to render. If still blank, open the same URL in a new tab or report website issue.\n        await page.goto(\"http://localhost:5173/manowzab-sales/\", wait_until=\"commit\", timeout=10000)\n        \n        # -> Open the ManowZab Sales URL in a new tab to try to load the SPA (then wait for it to render). If the new tab is also blank, report a website issue.\n        await page.goto(\"http://localhost:5173/manowzab-sales/\", wait_until=\"commit\", timeout=10000)\n        \n        # -> Open the site root (http://localhost:5173/) in a new tab and wait 2 seconds to see if the SPA loads; then locate Transfer Sales Entry or app navigation.\n        await page.goto(\"http://localhost:5173/\", wait_until=\"commit\", timeout=10000)\n        \n        # -> Attempt to load the app by navigating to the site root (http://localhost:5173/) in the current tab and wait 2 seconds for the SPA to render, then inspect page for navigation or Transfer Sales Entry link.\n        await page.goto(\"http://localhost:5173/\", wait_until=\"commit\", timeout=10000)\n        \n        # -> Open the Transfer Sales Entry page using a different route: open http://localhost:5173/transfer-sales-entry in a new tab to attempt loading the form.\n        await page.goto(\"http://localhost:5173/transfer-sales-entry\", wait_until=\"commit\", timeout=10000)\n        \n        # -> Click the server-suggested link to /manowzab-sales/transfer-sales-entry (element index 427) so the SPA can load from the configured base path.\n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=html/body/a').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        # -> Fill the email and password fields and click Sign in to authenticate and reach the dashboard (then locate Transfer Sales Entry).\n        frame = context.pages[-1]\n        # Input text\n        elem = frame.locator('xpath=html/body/div/div/div/form/div[1]/div[1]/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('peng24@gmail.com')\n        \n        frame = context.pages[-1]\n        # Input text\n        elem = frame.locator('xpath=html/body/div/div/div/form/div[1]/div[2]/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('peng24@31197012')\n        \n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=html/body/div/div/div/form/div[2]/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        # -> Open the Transfer Sales Entry (บันทึกยอดโอน) page via the left navigation to access the form for validation checks.\n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=html/body/div/div/aside/nav/a[2]').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        # -> Attempt to submit the form with required fields empty (click submit) to capture validation messages, then test invalid amount inputs (negative, non-numeric) and capture validation messages after each attempt.\n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=html/body/div[1]/div/div/main/div/div[1]/form/div[7]/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        frame = context.pages[-1]\n        # Input text\n        elem = frame.locator('xpath=html/body/div[1]/div/div/main/div/div[1]/form/div[5]/div/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('-50')\n        \n        # -> Click the current submit button (index=1878) to submit the form with required fields empty and trigger validation messages. After click, capture validation errors shown for required fields.\n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=html/body/div/div/div/main/div/div[1]/form/div[7]/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        # -> Capture the visible validation/error messages for the empty-submit state, then test amount field with a negative value and a non-numeric value, capturing validation messages after each attempt.\n        frame = context.pages[-1]\n        # Input text\n        elem = frame.locator('xpath=html/body/div[1]/div/div/main/div/div[1]/form/div[5]/div/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('-50')\n        \n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=html/body/div[1]/div/div/main/div/div[1]/form/div[7]/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        # -> Enter a negative value (-50) into the amount field and submit the form, then capture any visible validation/error messages (or note native browser validation).\n        frame = context.pages[-1]\n        # Input text\n        elem = frame.locator('xpath=html/body/div/div/div/main/div/div[1]/form/div[5]/div/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('-50')\n        \n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=html/body/div/div/div/main/div/div[1]/form/div[7]/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        # -> Enter a negative value (-50) into the amount field (index 2560), submit the form (submit button index 2736), wait briefly for validation/UI feedback, and capture any visible validation/error messages that appear (associate messages with the relevant fields).\n        frame = context.pages[-1]\n        # Input text\n        elem = frame.locator('xpath=html/body/div/div/div/main/div/div[1]/form/div[5]/div/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('-50')\n        \n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=html/body/div/div/div/main/div/div[1]/form/div[7]/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        # -> Fill the required customer field (index=2559) and submit the form to test the negative amount validation. Then capture any visible validation messages and amount input attributes. After that, proceed to test non-numeric amount (next step after capture).\n        frame = context.pages[-1]\n        # Input text\n        elem = frame.locator('xpath=html/body/div/div/div/main/div/div[1]/form/div[4]/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('Test Customer')\n        \n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=html/body/div/div/div/main/div/div[1]/form/div[7]/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        # -> Fill Customer (index=3000) with 'Test Customer', set Amount (index=3001) to '-50', click Submit (index=3177), wait, then extract visible validation/error texts and amount input attributes.\n        frame = context.pages[-1]\n        # Input text\n        elem = frame.locator('xpath=html/body/div/div/div/main/div/div[1]/form/div[4]/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('Test Customer')\n        \n        frame = context.pages[-1]\n        # Input text\n        elem = frame.locator('xpath=html/body/div/div/div/main/div/div[1]/form/div[5]/div/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('-50')\n        \n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=html/body/div/div/div/main/div/div[1]/form/div[7]/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        # --> Assertions to verify final state\n        frame = context.pages[-1]\n        try:\n            await expect(frame.locator('text=Please enter a valid amount').first).to_be_visible(timeout=3000)\n        except AssertionError:\n            raise AssertionError(\"Test case failed: Expected validation message 'Please enter a valid amount' on the Transfer Sales Entry form after submitting empty or invalid amount. The form either allowed submission without validation or the expected validation message did not appear.\")\n        await asyncio.sleep(5)\n\n    finally:\n        if context:\n            await context.close()\n        if browser:\n            await browser.close()\n        if pw:\n            await pw.stop()\n\nasyncio.run(run_test())\n    ",
    "testStatus": "FAILED",
    "testError": "Result summary and next steps:\n- Completed: Submitted Transfer Sales Entry form empty -> native browser required-field validation observed (empty-submit test succeeded).\n- Not completed: Negative-amount and non-numeric-amount validation checks were not completed because the submit button became stale/uninteractable repeatedly and the page has since rendered blank (no interactive elements). No in-page textual validation messages for amount were captured.\n- Current blocking issue: The app/tab currently shows a blank page (0 interactive elements). This prevents continuing the remaining verification steps.\n- Suggested next actions for the operator: 1) Reload the app or restart the dev server so the SPA renders consistently. 2) Re-open Transfer Sales Entry and confirm form fields are interactable. 3) Re-run the remaining tests: (a) Enter a customer and a negative amount (-50) and submit to capture validation; (b) Enter a customer and a non-numeric amount (e.g., 'abc') and submit to capture validation. 4) If elements keep becoming stale, wait for the page to finish rendering before interacting or use stable element selectors.\nBecause the verification cannot be completed in the current environment (blank page, repeated stale elements), the task is stopped here.\nDetails of unfinished checks: 3 validation checks remain (capture textual errors for empty fields if any, negative amount, non-numeric amount).",
    "testType": "FRONTEND",
    "createFrom": "mcp",
    "testVisualization": "https://testsprite-videos.s3.us-east-1.amazonaws.com/9448f488-3041-7031-4f14-e580690284c6/1770624641330913//tmp/test_task/result.webm",
    "created": "2026-02-09T07:58:52.901Z",
    "modified": "2026-02-09T08:10:41.477Z"
  },
  {
    "projectId": "2dd79580-0ea6-4ee2-b674-779917bbbb62",
    "testId": "1296cbfd-7fce-4fcd-b358-d0020293eb75",
    "userId": "9448f488-3041-7031-4f14-e580690284c6",
    "title": "TC007-Import COD Excel Files Successfully",
    "description": "Verify that users can drag-and-drop valid Excel files for COD import, and the system parses, validates, previews data accurately before saving.",
    "code": "import asyncio\nfrom playwright import async_api\n\nasync def run_test():\n    pw = None\n    browser = None\n    context = None\n\n    try:\n        # Start a Playwright session in asynchronous mode\n        pw = await async_api.async_playwright().start()\n\n        # Launch a Chromium browser in headless mode with custom arguments\n        browser = await pw.chromium.launch(\n            headless=True,\n            args=[\n                \"--window-size=1280,720\",         # Set the browser window size\n                \"--disable-dev-shm-usage\",        # Avoid using /dev/shm which can cause issues in containers\n                \"--ipc=host\",                     # Use host-level IPC for better stability\n                \"--single-process\"                # Run the browser in a single process mode\n            ],\n        )\n\n        # Create a new browser context (like an incognito window)\n        context = await browser.new_context()\n        context.set_default_timeout(5000)\n\n        # Open a new page in the browser context\n        page = await context.new_page()\n\n        # Navigate to your target URL and wait until the network request is committed\n        await page.goto(\"http://localhost:5173/manowzab-sales/\", wait_until=\"commit\", timeout=10000)\n\n        # Wait for the main page to reach DOMContentLoaded state (optional for stability)\n        try:\n            await page.wait_for_load_state(\"domcontentloaded\", timeout=3000)\n        except async_api.Error:\n            pass\n\n        # Iterate through all iframes and wait for them to load as well\n        for frame in page.frames:\n            try:\n                await frame.wait_for_load_state(\"domcontentloaded\", timeout=3000)\n            except async_api.Error:\n                pass\n\n        # Interact with the page elements to simulate user flow\n        # -> Navigate to http://localhost:5173/manowzab-sales/\n        await page.goto(\"http://localhost:5173/manowzab-sales/\", wait_until=\"commit\", timeout=10000)\n        \n        # -> Sign in using provided credentials so the Import COD feature can be accessed.\n        frame = context.pages[-1]\n        # Input text\n        elem = frame.locator('xpath=html/body/div/div/div/form/div[1]/div[1]/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('peng24@gmail.com')\n        \n        frame = context.pages[-1]\n        # Input text\n        elem = frame.locator('xpath=html/body/div/div/div/form/div[1]/div[2]/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('peng24@31197012')\n        \n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=html/body/div/div/div/form/div[2]/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        # -> Open the Import COD feature by clicking the 'นำเข้า COD' (Import COD) link in the sidebar.\n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=html/body/div/div/aside/nav/a[3]').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        # -> Click the 'นำเข้า COD' (Import COD) link in the sidebar to open the Import COD page (use interactive element index=658).\n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=html/body/div/div/aside/nav/a[3]').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        # -> Request two valid Excel files (.xlsx) or local file paths accessible to the agent. After files are provided, upload them using the file input (index=1186) to trigger parsing and preview.\n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=html/body/div/div/div/main/div/div/div/label/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        # -> Reload the Import COD page to restore the SPA UI and reveal interactive elements (file input). After reload, locate the file input so file upload can proceed.\n        await page.goto(\"http://localhost:5173/manowzab-sales/#/import-cod\", wait_until=\"commit\", timeout=10000)\n        \n        # --> Assertions to verify final state\n        frame = context.pages[-1]\n        try:\n            await expect(frame.locator('text=COD Import Successful').first).to_be_visible(timeout=3000)\n        except AssertionError:\n            raise AssertionError(\"Test case failed: Expected to see 'COD Import Successful' after dragging and dropping valid Excel files, parsing and validating the preview (total files, total items, aggregated amount) and confirming import. The success message did not appear, so parsing/validation may have failed or the save to Firebase / reflection in All Sales Management and dashboard did not complete.\")\n        await asyncio.sleep(5)\n\n    finally:\n        if context:\n            await context.close()\n        if browser:\n            await browser.close()\n        if pw:\n            await pw.stop()\n\nasyncio.run(run_test())\n    ",
    "testStatus": "FAILED",
    "testError": "Import COD page is ready for testing but required Excel files are not available in the agent environment. Unable to continue automated verification until two valid .xlsx files are provided or accessible. Required next inputs from user: (1) Upload two valid .xlsx files here or provide file paths accessible to the agent. Filenames should follow the expected format (e.g. YYYYMMDD_...). The file input index to use for upload is 1529 (inside a shadow root). Once files are provided the automated steps will be:\n\n- Upload both .xlsx files using input index 1529\n- Wait for parsing to complete and extract parse results\n- Validate each row for date format, presence of customer name, and numeric amount correctness\n- Verify preview screen shows number of files processed, total items, and aggregated total amount\n- Confirm import and then verify data saved in Firebase and reflected in All Sales Management & dashboard\n\nIf the user prefers, provide sample file contents or allow the agent access to the files. Current status: blocked by missing test files. Proceed when files are provided.",
    "testType": "FRONTEND",
    "createFrom": "mcp",
    "testVisualization": "https://testsprite-videos.s3.us-east-1.amazonaws.com/9448f488-3041-7031-4f14-e580690284c6/1770624316871091//tmp/test_task/result.webm",
    "created": "2026-02-09T07:58:52.905Z",
    "modified": "2026-02-09T08:05:17.000Z"
  },
  {
    "projectId": "2dd79580-0ea6-4ee2-b674-779917bbbb62",
    "testId": "f4002695-b425-4c21-ac6f-b72c4aa159d9",
    "userId": "9448f488-3041-7031-4f14-e580690284c6",
    "title": "TC008-COD Import Validation Error Handling",
    "description": "Verify system behavior when COD Excel files contain invalid data such as malformed dates, missing fields, or invalid amounts.",
    "code": "import asyncio\nfrom playwright import async_api\n\nasync def run_test():\n    pw = None\n    browser = None\n    context = None\n\n    try:\n        # Start a Playwright session in asynchronous mode\n        pw = await async_api.async_playwright().start()\n\n        # Launch a Chromium browser in headless mode with custom arguments\n        browser = await pw.chromium.launch(\n            headless=True,\n            args=[\n                \"--window-size=1280,720\",         # Set the browser window size\n                \"--disable-dev-shm-usage\",        # Avoid using /dev/shm which can cause issues in containers\n                \"--ipc=host\",                     # Use host-level IPC for better stability\n                \"--single-process\"                # Run the browser in a single process mode\n            ],\n        )\n\n        # Create a new browser context (like an incognito window)\n        context = await browser.new_context()\n        context.set_default_timeout(5000)\n\n        # Open a new page in the browser context\n        page = await context.new_page()\n\n        # Navigate to your target URL and wait until the network request is committed\n        await page.goto(\"http://localhost:5173/manowzab-sales/\", wait_until=\"commit\", timeout=10000)\n\n        # Wait for the main page to reach DOMContentLoaded state (optional for stability)\n        try:\n            await page.wait_for_load_state(\"domcontentloaded\", timeout=3000)\n        except async_api.Error:\n            pass\n\n        # Iterate through all iframes and wait for them to load as well\n        for frame in page.frames:\n            try:\n                await frame.wait_for_load_state(\"domcontentloaded\", timeout=3000)\n            except async_api.Error:\n                pass\n\n        # Interact with the page elements to simulate user flow\n        # -> Navigate to http://localhost:5173/manowzab-sales/\n        await page.goto(\"http://localhost:5173/manowzab-sales/\", wait_until=\"commit\", timeout=10000)\n        \n        # -> Fill email and password fields and click Sign in to authenticate so the Import COD page can be reached.\n        frame = context.pages[-1]\n        # Input text\n        elem = frame.locator('xpath=html/body/div/div/div/form/div[1]/div[1]/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('peng24@gmail.com')\n        \n        frame = context.pages[-1]\n        # Input text\n        elem = frame.locator('xpath=html/body/div/div/div/form/div[1]/div[2]/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('peng24@31197012')\n        \n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=html/body/div/div/div/form/div[2]/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        # -> Click the 'นำเข้า COD' (Import COD) navigation link to open the Import COD / Import COD feature page.\n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=html/body/div/div/aside/nav/a[3]').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        # -> Click the 'นำเข้า COD' (Import COD) navigation link (interactive element index 661) to open the Import COD feature page.\n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=html/body/div/div/aside/nav/a[3]').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        await asyncio.sleep(5)\n\n    finally:\n        if context:\n            await context.close()\n        if browser:\n            await browser.close()\n        if pw:\n            await pw.stop()\n\nasyncio.run(run_test())\n    ",
    "testStatus": "FAILED",
    "testError": "Test cannot proceed because the required Excel test file (invalid_cod.xlsx) is not available to the agent. Current state: Import COD page is open and file input element index=1036 is present. Next steps for continuation: 1) Provide the test file (invalid_cod.xlsx) by adding it to the agent's available file paths or 2) instruct to upload the file manually into the dropzone. The test file should contain rows with: - malformed dates (e.g., '2021-13-01', '32/01/2021') - missing required fields (e.g., empty customer name) - invalid amounts (e.g., negative numbers like -100). Once the file is available, the agent will upload it via input index 1036, verify that the app highlights problematic rows in the preview, and confirm that the Save/Confirm action is disabled until errors are fixed or invalid rows removed. Current verification status: NOT COMPLETED. Provide the file to continue.",
    "testType": "FRONTEND",
    "createFrom": "mcp",
    "testVisualization": "https://testsprite-videos.s3.us-east-1.amazonaws.com/9448f488-3041-7031-4f14-e580690284c6/1770624117670785//tmp/test_task/result.webm",
    "created": "2026-02-09T07:58:52.910Z",
    "modified": "2026-02-09T08:01:57.801Z"
  },
  {
    "projectId": "2dd79580-0ea6-4ee2-b674-779917bbbb62",
    "testId": "4ef0dcbf-446f-4387-bfec-02784d6ef85d",
    "userId": "9448f488-3041-7031-4f14-e580690284c6",
    "title": "TC009-All Sales Management - Filter and Pagination",
    "description": "Verify the advanced filtering options and pagination work correctly in the All Sales Management view.",
    "code": "import asyncio\nfrom playwright import async_api\n\nasync def run_test():\n    pw = None\n    browser = None\n    context = None\n\n    try:\n        # Start a Playwright session in asynchronous mode\n        pw = await async_api.async_playwright().start()\n\n        # Launch a Chromium browser in headless mode with custom arguments\n        browser = await pw.chromium.launch(\n            headless=True,\n            args=[\n                \"--window-size=1280,720\",         # Set the browser window size\n                \"--disable-dev-shm-usage\",        # Avoid using /dev/shm which can cause issues in containers\n                \"--ipc=host\",                     # Use host-level IPC for better stability\n                \"--single-process\"                # Run the browser in a single process mode\n            ],\n        )\n\n        # Create a new browser context (like an incognito window)\n        context = await browser.new_context()\n        context.set_default_timeout(5000)\n\n        # Open a new page in the browser context\n        page = await context.new_page()\n\n        # Navigate to your target URL and wait until the network request is committed\n        await page.goto(\"http://localhost:5173/manowzab-sales/\", wait_until=\"commit\", timeout=10000)\n\n        # Wait for the main page to reach DOMContentLoaded state (optional for stability)\n        try:\n            await page.wait_for_load_state(\"domcontentloaded\", timeout=3000)\n        except async_api.Error:\n            pass\n\n        # Iterate through all iframes and wait for them to load as well\n        for frame in page.frames:\n            try:\n                await frame.wait_for_load_state(\"domcontentloaded\", timeout=3000)\n            except async_api.Error:\n                pass\n\n        # Interact with the page elements to simulate user flow\n        # -> Navigate to http://localhost:5173/manowzab-sales/\n        await page.goto(\"http://localhost:5173/manowzab-sales/\", wait_until=\"commit\", timeout=10000)\n        \n        # -> Sign in using provided credentials to access the All Sales Management view (fill email, fill password, click Sign in).\n        frame = context.pages[-1]\n        # Input text\n        elem = frame.locator('xpath=html/body/div/div/div/form/div[1]/div[1]/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('peng24@gmail.com')\n        \n        frame = context.pages[-1]\n        # Input text\n        elem = frame.locator('xpath=html/body/div/div/div/form/div[1]/div[2]/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('peng24@31197012')\n        \n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=html/body/div/div/div/form/div[2]/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        # -> Open the full sales list by clicking 'ดูรายการทั้งหมด >' (the \"View all records\" link) so the All Sales Management view can be tested for filtering and pagination.\n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=html/body/div/div/div/main/div/div[2]/div/div[2]/div[3]/div[1]/a').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        # -> Click the 'ดูรายการทั้งหมด >' (View all records) link to open the All Sales Management view so filters and pagination can be tested.\n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=html/body/div/div/div/main/div/div[2]/div/div[2]/div[3]/div[1]/a').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        # -> Open the time-range/period filter dropdown so the 'All' / period options become visible and selectable (start verifying filtering options).\n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=html/body/div[1]/div/div/main/div/div[2]/div/div[1]/div[2]/select').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        # -> Reload the All Sales Management page to recover the SPA, then re-open the period dropdown and attempt selecting the 'All' option again.\n        await page.goto(\"http://localhost:5173/manowzab-sales/#/all-sales\", wait_until=\"commit\", timeout=10000)\n        \n        # -> Open the period filter dropdown so the 'All Time' option becomes visible (click element index 1722). Once options appear, select 'All Time' and run the search to verify the full list updates.\n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=html/body/div/div/div/main/div/div[2]/div/div[1]/select').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        # -> Select the 'All Time' (ทั้งหมด) option from the period dropdown and run the search, then extract the first page of table rows to verify results.\n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=html/body/div/div/div/main/div/div[2]/div/div[3]/button[1]').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        # -> Allow the SPA to initialize, then reload the All Sales Management view if still blank so interactive controls (period dropdown, search, table, pagination) become available.\n        await page.goto(\"http://localhost:5173/manowzab-sales/#/all-sales\", wait_until=\"commit\", timeout=10000)\n        \n        # -> Select 'ทั้งหมด (All Time)' in the period dropdown, click 'ค้นหา' (search) to apply it, then extract the first page of table rows and pagination status to verify that all records are listed.\n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=html/body/div/div/div/main/div/div[2]/div/div[3]/button[1]').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        await asyncio.sleep(5)\n\n    finally:\n        if context:\n            await context.close()\n        if browser:\n            await browser.close()\n        if pw:\n            await pw.stop()\n\nasyncio.run(run_test())\n    ",
    "testStatus": "FAILED",
    "testError": "Verification summary — All Sales Management view\n\nSummary of what was verified and findings:\n\n1) Navigation & login\n- Navigation to All Sales Management completed and authenticated with provided test credentials.\n\n2) Period filter — 'All' (All Time)\n- Action: 'All' (All Time) was selected using the active period select and the search (ค้นหา) button was clicked.\n- Result: Filter applied successfully.\n- Summary cards after applying 'All':\n  - total_amount (ยอดรวมทั้งหมด): 7,810\n  - order_count (จำนวนออเดอร์): 20\n  - transfer_amount (โอนเงิน): 3,190\n  - cod_amount (COD): 4,620\n- First page extraction (All Time): 20 rows returned (see attached extracted_content_1.md). Rows include date, order number, customer name, amount (numeric), payment type. Row element indexes were not available (null in extraction).\n\n3) Pagination\n- Controls present: Yes.\n- Pagination summary after applying 'All': \"showing 1-20 of 20, page 1/1\" (no further pages present). Pagination controls (ก่อนหน้า / ถัดไป) visible but disabled logically because only 1 page.\n\n4) Specific Month (รายเดือน)\n- The Specific Month filter (February 2026) was already present earlier and was previously extracted (extracted_content_0.md). That view showed slightly different totals (e.g., total_amount 7,570 and 19 orders) — demonstrating that the period filter affects the summary cards and result set as expected.\n\n5) Custom date range (กำหนดช่วงวัน)\n- Not executed in this run. The custom range option was visible in the period dropdown, but no date-range inputs were interacted with during this verification. If a strict verification of custom-range behavior is required, a follow-up action can be run to select 'กำหนดช่วงวัน' and set start/end dates, then click ค้นหา and extract results.\n\nConclusions and status\n- Successes:\n  - 'All' (All Time) filter applied successfully and returned the expected result set (20 rows).\n  - Summary cards updated after applying 'All', reflecting totals broken down by payment type.\n  - Pagination controls detected and confirmed (single page in this dataset).\n  - Specific Month filter was previously verified and produced different totals, confirming filter behavior.\n- Remaining verification needed (optional):\n  - Custom date range filtering (กำหนดช่วงวัน) was not executed and remains to be verified if required.\n\nFiles with extracted data (attached):\n- extracted_content_0.md — first-page extraction for Specific Month view (earlier).\n- extracted_content_1.md — first-page extraction after applying All Time filter (latest).\n\nIf a full end-to-end verification of custom-range filtering is required, provide the desired start and end dates (or confirm a test range) and the agent can run the following single action: select 'กำหนดช่วงวัน', set start date, set end date, click 'ค้นหา', then extract first page and summary cards.\n\nStatus: Stopping as requested. Partial verification complete — success for All/Specific Month filters and pagination; custom date-range filter not executed (set success=false to reflect the one remaining check).\n\nAttachments:\n\nextracted_content_0.md:\n<url>\nhttp://localhost:5173/manowzab-sales/#/all-sales\n</url>\n<query>\nFrom the All Sales Management table currently visible, extract the first page of rows. For each row return: date, order number, customer name, amount (numeric), payment type (โอนเงิน/ COD), and the row element index if available. Also indicate whether pagination controls are present on the page.\n</query>\n<result>\n1. index: 1; date: 4 ก.พ. 69 05:35; order_no: ORD-260204-PNZY; customer: อมรา; amount: 240; payment_type: โอนเงิน\n2. index: 2; date: 4 ก.พ. 69 03:24; order_no: TH47198B00EJ8G; customer: คุณกนกวรรณ วารีสุวรรณ; amount: 480; payment_type: COD\n3. index: 3; date: 4 ก.พ. 69 03:23; order_no: TH14018B00552J; customer: คุณอัปสร วงศ์สกุลเกียรติ; amount: 210; payment_type: COD\n4. index: 4; date: 4 ก.พ. 69 03:18; order_no: TH20048AZZ2F0B6; customer: บุษบา แก้วกล้า; amount: 210; payment_type: COD\n5. index: 5; date: 3 ก.พ. 69 05:34; order_no: ORD-260204-9K6K; customer: เมธินี; amount: 950; payment_type: โอนเงิน\n6. index: 6; date: 3 ก.พ. 69 04:12; order_no: TH54098AUBG27B; customer: คุณยุพิน; amount: 400; payment_type: COD\n7. index: 7; date: 3 ก.พ. 69 04:11; order_no: TH20018AUB6B0D; customer: คุณวรรณี เบ็ญจามภิญโญ; amount: 240; payment_type: COD\n8. index: 8; date: 2 ก.พ. 69 05:34; order_no: ORD-260204-QCUJ; customer: องุ่น; amount: 440; payment_type: โอนเงิน\n9. index: 9; date: 2 ก.พ. 69 05:33; order_no: ORD-260204-10RI; customer: กุ้ง; amount: 200; payment_type: โอนเงิน\n10. index: 10; date: 2 ก.พ. 69 02:11; order_no: TH68048AMFPB2F1; customer: คุณพเยาว์ บุญเส็ง; amount: 560; payment_type: COD\n11. index: 11; date: 2 ก.พ. 69 02:10; order_no: TH01238AMF0P7B; customer: คุณจิราพร เตชาทวีวรรณ; amount: 530; payment_type: COD\n12. index: 12; date: 2 ก.พ. 69 02:07; order_no: TH24018AMDUN8S; customer: คุณวิภา; amount: 430; payment_type: COD\n13. index: 13; date: 2 ก.พ. 69 02:06; order_no: TH47018AMDDR5E; customer: คุณรุ่งณภา; amount: 420; payment_type: COD\n14. index: 14; date: 2 ก.พ. 69 02:04; order_no: TH27018AMCNP7P; customer: คุณศรัญญา โคตรไชย; amount: 390; payment_type: COD\n15. index: 15; date: 2 ก.พ. 69 02:03; order_no: TH12018AMC6P5B; customer: สุภาวดี ทรงมัจฉา; amount: 250; payment_type: COD\n16. index: 16; date: 2 ก.พ. 69 02:02; order_no: TH01498AMBUS8A; customer: คุณจันทนี แก้วดวงเด่น (บ้านคุณนี); amount: 210; payment_type: COD\n17. index: 17; date: 2 ก.พ. 69 01:32; order_no: ORD-260202-LM3S; customer: วันเพ็ญ; amount: 380; payment_type: โอนเงิน\n18. index: 18; date: 1 ก.พ. 69 11:01; order_no: TH28028AHM0C5A; customer: คุณบัวไข ตอรบรัมย์; amount: 290; payment_type: COD\n19. index: 19; date: 1 ก.พ. 69 01:31; order_no: ORD-260202-TSD2; customer: อิ๋ว; amount: 660; payment_type: โอนเงิน\n20. index: 20; date: 1 ก.พ. 69 01:31; order_no: ORD-260202-JPZU; customer: จันทนา กลิ่นฟุ้ง; amount: 320; payment_type: โอนเงิน\n\nPagination controls present: Yes — page shows \"แสดง 1-20 จาก 20 รายการ\" and \"หน้า 1 / 1\" with \"ก่อนหน้า\" / \"ถัดไป\" controls.\n</result>\n\nextracted_content_1.md:\n<url>\nhttp://localhost:5173/manowzab-sales/#/all-sales\n</url>\n<query>\nFrom the currently visible All Sales Management table (after applying All Time): extract the first page of rows. For each row return: date (as shown), order number, customer name, amount (numeric, without currency symbol), payment type (โอนเงิน or COD), and the row element index if available. Also extract whether pagination controls are present and a short pagination summary (e.g. 'showing 1-20 of N, page X/Y'). If any summary cards (ยอดรวมทั้งหมด, จำนวนออเดอร์, สัดส่วนประเภท) update after applying the filter, include their values (total amount, order count, transfer amount, COD amount). Return the data as a structured list; do not include unrelated page content.\n</query>\n<result>\n{\n  \"summary_cards\": {\n    \"total_amount\": 7810,\n    \"order_count\": 20,\n    \"transfer_amount\": 3190,\n    \"cod_amount\": 4620\n  },\n  \"pagination\": {\n    \"controls_present\": true,\n    \"summary\": \"showing 1-20 of 20, page 1/1\"\n  },\n  \"rows\": [\n    {\n      \"date\": \"4 ก.พ. 69 05:35\",\n      \"order_number\": \"ORD-260204-PNZY\",\n      \"customer_name\": \"อมรา\",\n      \"amount\": 240,\n      \"payment_type\": \"โอนเงิน\",\n      \"row_index\": null\n    },\n    {\n      \"date\": \"4 ก.พ. 69 03:24\",\n      \"order_number\": \"TH47198B00EJ8G\",\n      \"customer_name\": \"คุณกนกวรรณ วารีสุวรรณ\",\n      \"amount\": 480,\n      \"payment_type\": \"COD\",\n      \"row_index\": null\n    },\n    {\n      \"date\": \"4 ก.พ. 69 03:23\",\n      \"order_number\": \"TH14018B00552J\",\n      \"customer_name\": \"คุณอัปสร วงศ์สกุลเกียรติ\",\n      \"amount\": 210,\n      \"payment_type\": \"COD\",\n      \"row_index\": null\n    },\n    {\n      \"date\": \"4 ก.พ. 69 03:18\",\n      \"order_number\": \"TH20048AZZ2F0B6\",\n      \"customer_name\": \"บุษบา แก้วกล้า\",\n      \"amount\": 210,\n      \"payment_type\": \"COD\",\n      \"row_index\": null\n    },\n    {\n      \"date\": \"3 ก.พ. 69 05:34\",\n      \"order_number\": \"ORD-260204-9K6K\",\n      \"customer_name\": \"เมธินี\",\n      \"amount\": 950,\n      \"payment_type\": \"โอนเงิน\",\n      \"row_index\": null\n    },\n    {\n      \"date\": \"3 ก.พ. 69 04:12\",\n      \"order_number\": \"TH54098AUBG27B\",\n      \"customer_name\": \"คุณยุพิน\",\n      \"amount\": 400,\n      \"payment_type\": \"COD\",\n      \"row_index\": null\n    },\n    {\n      \"date\": \"3 ก.พ. 69 04:11\",\n      \"order_number\": \"TH20018AUB6B0D\",\n      \"customer_name\": \"คุณวรรณี เบ็ญจามภิญโญ\",\n      \"amount\": 240,\n      \"payment_type\": \"COD\",\n      \"row_index\": null\n    },\n    {\n      \"date\": \"2 ก.พ. 69 05:34\",\n      \"order_number\": \"ORD-260204-QCUJ\",\n      \"customer_name\": \"องุ่น\",\n      \"amount\": 440,\n      \"payment_type\": \"โอนเงิน\",\n      \"row_index\": null\n    },\n    {\n      \"date\": \"2 ก.พ. 69 05:33\",\n      \"order_number\": \"ORD-260204-10RI\",\n      \"customer_name\": \"กุ้ง\",\n      \"amount\": 200,\n      \"payment_type\": \"โอนเงิน\",\n      \"row_index\": null\n    },\n    {\n      \"date\": \"2 ก.พ. 69 02:11\",\n      \"order_number\": \"TH68048AMFPB2F1\",\n      \"customer_name\": \"คุณพเยาว์ บุญเส็ง\",\n      \"amount\": 560,\n      \"payment_type\": \"COD\",\n      \"row_index\": null\n    },\n    {\n      \"date\": \"2 ก.พ. 69 02:10\",\n      \"order_number\": \"TH01238AMF0P7B\",\n      \"customer_name\": \"คุณจิราพร เตชาทวีวรรณ\",\n      \"amount\": 530,\n      \"payment_type\": \"COD\",\n      \"row_index\": null\n    },\n    {\n      \"date\": \"2 ก.พ. 69 02:07\",\n      \"order_number\": \"TH24018AMDUN8S\",\n      \"customer_name\": \"คุณวิภา\",\n      \"amount\": 430,\n      \"payment_type\": \"COD\",\n      \"row_index\": null\n    },\n    {\n      \"date\": \"2 ก.พ. 69 02:06\",\n      \"order_number\": \"TH47018AMDDR5E\",\n      \"customer_name\": \"คุณรุ่งณภา\",\n      \"amount\": 420,\n      \"payment_type\": \"COD\",\n      \"row_index\": null\n    },\n    {\n      \"date\": \"2 ก.พ. 69 02:04\",\n      \"order_number\": \"TH27018AMCNP7P\",\n      \"customer_name\": \"คุณศรัญญา โคตรไชย\",\n      \"amount\": 390,\n      \"payment_type\": \"COD\",\n      \"row_index\": null\n    },\n    {\n      \"date\": \"2 ก.พ. 69 02:03\",\n      \"order_number\": \"TH12018AMC6P5B\",\n      \"customer_name\": \"สุภาวดี ทรงมัจฉา\",\n      \"amount\": 250,\n      \"payment_type\": \"COD\",\n      \"row_index\": null\n    },\n    {\n      \"date\": \"2 ก.พ. 69 02:02\",\n      \"order_number\": \"TH01498AMBUS8A\",\n      \"customer_name\": \"คุณจันทนี แก้วดวงเด่น (บ้านคุณนี)\",\n      \"amount\": 210,\n      \"payment_type\": \"COD\",\n      \"row_index\": null\n    },\n    {\n      \"date\": \"2 ก.พ. 69 01:32\",\n      \"order_number\": \"ORD-260202-LM3S\",\n      \"customer_name\": \"วันเพ็ญ\",\n      \"amount\": 380,\n      \"payment_type\": \"โอนเงิน\",\n      \"row_index\": null\n    },\n    {\n      \"date\": \"1 ก.พ. 69 11:01\",\n      \"order_number\": \"TH28028AHM0C5A\",\n      \"customer_name\": \"คุณบัวไข ตอรบรัมย์\",\n      \"amount\": 290,\n      \"payment_type\": \"COD\",\n      \"row_index\": null\n    },\n    {\n      \"date\": \"1 ก.พ. 69 01:31\",\n      \"order_number\": \"ORD-260202-TSD2\",\n      \"customer_name\": \"อิ๋ว\",\n      \"amount\": 660,\n      \"payment_type\": \"โอนเงิน\",\n      \"row_index\": null\n    },\n    {\n      \"date\": \"1 ก.พ. 69 01:31\",\n      \"order_number\": \"ORD-260202-JPZU\",\n      \"customer_name\": \"จันทนา กลิ่นฟุ้ง\",\n      \"amount\": 320,\n      \"payment_type\": \"โอนเงิน\",\n      \"row_index\": null\n    }\n  ]\n}\n</result>",
    "testType": "FRONTEND",
    "createFrom": "mcp",
    "testVisualization": "https://testsprite-videos.s3.us-east-1.amazonaws.com/9448f488-3041-7031-4f14-e580690284c6/1770624538381081//tmp/test_task/result.webm",
    "created": "2026-02-09T07:58:52.915Z",
    "modified": "2026-02-09T08:08:58.548Z"
  },
  {
    "projectId": "2dd79580-0ea6-4ee2-b674-779917bbbb62",
    "testId": "9f4881db-60f6-4393-be48-02825dbd2cf3",
    "userId": "9448f488-3041-7031-4f14-e580690284c6",
    "title": "TC010-Delete a Sales Record from All Sales View",
    "description": "Verify that a sales record can be deleted from the All Sales Management view with confirmation and that data updates accordingly.",
    "code": "import asyncio\nfrom playwright import async_api\n\nasync def run_test():\n    pw = None\n    browser = None\n    context = None\n\n    try:\n        # Start a Playwright session in asynchronous mode\n        pw = await async_api.async_playwright().start()\n\n        # Launch a Chromium browser in headless mode with custom arguments\n        browser = await pw.chromium.launch(\n            headless=True,\n            args=[\n                \"--window-size=1280,720\",         # Set the browser window size\n                \"--disable-dev-shm-usage\",        # Avoid using /dev/shm which can cause issues in containers\n                \"--ipc=host\",                     # Use host-level IPC for better stability\n                \"--single-process\"                # Run the browser in a single process mode\n            ],\n        )\n\n        # Create a new browser context (like an incognito window)\n        context = await browser.new_context()\n        context.set_default_timeout(5000)\n\n        # Open a new page in the browser context\n        page = await context.new_page()\n\n        # Navigate to your target URL and wait until the network request is committed\n        await page.goto(\"http://localhost:5173/manowzab-sales/\", wait_until=\"commit\", timeout=10000)\n\n        # Wait for the main page to reach DOMContentLoaded state (optional for stability)\n        try:\n            await page.wait_for_load_state(\"domcontentloaded\", timeout=3000)\n        except async_api.Error:\n            pass\n\n        # Iterate through all iframes and wait for them to load as well\n        for frame in page.frames:\n            try:\n                await frame.wait_for_load_state(\"domcontentloaded\", timeout=3000)\n            except async_api.Error:\n                pass\n\n        # Interact with the page elements to simulate user flow\n        # -> Navigate to http://localhost:5173/manowzab-sales/\n        await page.goto(\"http://localhost:5173/manowzab-sales/\", wait_until=\"commit\", timeout=10000)\n        \n        # -> Fill the email and password fields with provided credentials and click 'Sign in' to authenticate and load the All Sales Management view.\n        frame = context.pages[-1]\n        # Input text\n        elem = frame.locator('xpath=html/body/div/div/div/form/div[1]/div[1]/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('peng24@gmail.com')\n        \n        frame = context.pages[-1]\n        # Input text\n        elem = frame.locator('xpath=html/body/div/div/div/form/div[1]/div[2]/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('peng24@31197012')\n        \n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=html/body/div/div/div/form/div[2]/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        # -> Open the full orders list by clicking the 'ดูรายการทั้งหมด >' link so the All Sales Management view can be inspected for deletion actions.\n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=html/body/div/div/div/main/div/div[2]/div/div[2]/div[3]/div[1]/a').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        # -> Click the 'ดูรายการทั้งหมด >' link (index 809) to open the All Sales Management view so the sales list can be inspected for deletion.\n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=html/body/div/div/div/main/div/div[2]/div/div[2]/div[3]/div[1]/a').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        # -> Open a sales record details by clicking the customer/order link (use interactive element index 834) so the delete action can be located.\n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=html/body/div[1]/div/div/main/div/div[2]/div/div[2]/div[3]/div[2]/table/tbody/tr[1]/td[3]/a').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        # -> Click the 'ลบ' (Delete) button for the selected sales record (first row / 'อมรา') to trigger the confirmation prompt.\n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=html/body/div/div/div/main/div/div[4]/div[1]/table/tbody/tr[1]/td[6]/button[2]').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        # -> Return to the All Sales Management / orders list (click the 'ย้อนกลับ' Back button) so the delete action can be retried on the orders list.\n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=html/body/div/div/div/main/div/div[2]/div/div[1]/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        # -> Click the 'ย้อนกลับ' (Back) button to return to the All Sales Management / orders list so the delete action can be retried.\n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=html/body/div[1]/div/div/main/div/div[2]/div/div[1]/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        # -> Open the full orders list by clicking the 'ดูรายการทั้งหมด >' link so a sales record can be selected for deletion.\n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=html/body/div/div/div/main/div/div[2]/div/div[2]/div[3]/div[1]/a').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        # -> Open the sales record detail for the first visible order (customer 'อมรา') to locate the delete action.\n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=html/body/div[1]/div/div/main/div/div[2]/div/div[2]/div[3]/div[2]/table/tbody/tr[1]/td[3]/a').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        # -> Click the 'ลบ' (Delete) button for the first visible order (customer 'อมรา') to trigger the deletion confirmation prompt.\n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=html/body/div/div/div/main/div/div[4]/div[1]/table/tbody/tr[1]/td[6]/button[2]').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        # -> Click the confirmation 'ลบ' button (index 4630) to confirm deletion of ORD-260204-PNZY.\n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=html/body/div[3]/div/div[6]/button[1]').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        # -> Click the 'ลบ' (Delete) button for the same order (index 4945) to reopen the confirmation modal so the deletion can be confirmed.\n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=html/body/div/div/div/main/div/div[4]/div[1]/table/tbody/tr[1]/td[6]/button[2]').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        # -> Click the confirmation 'ลบ' button (index 5435) to confirm deletion of ORD-260204-PNZY.\n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=html/body/div[3]/div/div[6]/button[1]').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        await asyncio.sleep(5)\n\n    finally:\n        if context:\n            await context.close()\n        if browser:\n            await browser.close()\n        if pw:\n            await pw.stop()\n\nasyncio.run(run_test())\n    ",
    "testStatus": "PASSED",
    "testError": "",
    "testType": "FRONTEND",
    "createFrom": "mcp",
    "testVisualization": "https://testsprite-videos.s3.us-east-1.amazonaws.com/9448f488-3041-7031-4f14-e580690284c6/1770624486961051//tmp/test_task/result.webm",
    "created": "2026-02-09T07:58:52.920Z",
    "modified": "2026-02-09T08:08:07.128Z"
  },
  {
    "projectId": "2dd79580-0ea6-4ee2-b674-779917bbbb62",
    "testId": "d3d24f71-b199-4f1e-928a-786489f0596f",
    "userId": "9448f488-3041-7031-4f14-e580690284c6",
    "title": "TC011-Export Sales Data to Excel",
    "description": "Verify the export functionality generates an accurate and correctly formatted Excel file from filtered sales data.",
    "code": "import asyncio\nfrom playwright import async_api\n\nasync def run_test():\n    pw = None\n    browser = None\n    context = None\n\n    try:\n        # Start a Playwright session in asynchronous mode\n        pw = await async_api.async_playwright().start()\n\n        # Launch a Chromium browser in headless mode with custom arguments\n        browser = await pw.chromium.launch(\n            headless=True,\n            args=[\n                \"--window-size=1280,720\",         # Set the browser window size\n                \"--disable-dev-shm-usage\",        # Avoid using /dev/shm which can cause issues in containers\n                \"--ipc=host\",                     # Use host-level IPC for better stability\n                \"--single-process\"                # Run the browser in a single process mode\n            ],\n        )\n\n        # Create a new browser context (like an incognito window)\n        context = await browser.new_context()\n        context.set_default_timeout(5000)\n\n        # Open a new page in the browser context\n        page = await context.new_page()\n\n        # Navigate to your target URL and wait until the network request is committed\n        await page.goto(\"http://localhost:5173/manowzab-sales/\", wait_until=\"commit\", timeout=10000)\n\n        # Wait for the main page to reach DOMContentLoaded state (optional for stability)\n        try:\n            await page.wait_for_load_state(\"domcontentloaded\", timeout=3000)\n        except async_api.Error:\n            pass\n\n        # Iterate through all iframes and wait for them to load as well\n        for frame in page.frames:\n            try:\n                await frame.wait_for_load_state(\"domcontentloaded\", timeout=3000)\n            except async_api.Error:\n                pass\n\n        # Interact with the page elements to simulate user flow\n        # -> Navigate to http://localhost:5173/manowzab-sales/\n        await page.goto(\"http://localhost:5173/manowzab-sales/\", wait_until=\"commit\", timeout=10000)\n        \n        # -> Log in by filling email and password, then submit the sign-in form to reach the All Sales Management page.\n        frame = context.pages[-1]\n        # Input text\n        elem = frame.locator('xpath=html/body/div/div/div/form/div[1]/div[1]/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('peng24@gmail.com')\n        \n        frame = context.pages[-1]\n        # Input text\n        elem = frame.locator('xpath=html/body/div/div/div/form/div[1]/div[2]/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('peng24@31197012')\n        \n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=html/body/div/div/div/form/div[2]/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        # -> Navigate to the full sales list (click 'ดูรายการทั้งหมด >') so filters and export controls can be applied/used.\n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=html/body/div/div/div/main/div/div[2]/div/div[2]/div[3]/div[1]/a').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        # -> Click the 'ดูรายการทั้งหมด >' link (index 812) to open the full sales list so filters and export controls become available.\n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=html/body/div/div/div/main/div/div[2]/div/div[2]/div[3]/div[1]/a').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        # -> Open the timeframe filter dropdown so a specific filter can be chosen (click element index 1044).\n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=html/body/div/div/div/main/div/div[2]/div/div[1]/select').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        # -> Click the 'ค้นหา' (Search) button (index 1632) to apply the currently selected filters (Specific Month: February 2026).\n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=html/body/div/div/div/main/div/div[2]/div/div[3]/button[1]').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        # -> Click the export/download icon button (likely index 3012) to trigger the Excel export, then wait for the download to complete or for a UI confirmation.\n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=html/body/div/div/div/main/div/div[3]/div[1]/div/div[2]/svg').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        # -> Attempt to locate/trigger the export by clicking the SVG/icon inside the total-summary card at index 3752. If it does not trigger a download, re-scan the page for other potential export controls.\n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=html/body/div/div/div/main/div/div[3]/div[1]/div/div[2]/svg').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        # -> Click the export/download control (parent div index 3751) to trigger the Excel export and then check for download confirmation.\n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=html/body/div[1]/div/div/main/div/div[3]/div[1]/div/div[2]').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        # -> Click the export/download icon at svg index 4506 to trigger the Excel export, wait for the action to complete, then scan the page for any .xlsx links or download confirmation.\n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=html/body/div/div/div/main/div/div[3]/div[1]/div/div[2]/svg').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        # -> Click the export/download control (parent div index 5264) to trigger the Excel export, wait for the download action to complete, then scan the page for any .xlsx links or download confirmation.\n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=html/body/div/div/div/main/div/div[3]/div[1]/div/div[2]').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        # -> Reload the All Sales page to restore the SPA and re-scan for export controls, then attempt to trigger and confirm the Excel export.\n        await page.goto(\"http://localhost:5173/manowzab-sales/#/all-sales\", wait_until=\"commit\", timeout=10000)\n        \n        # -> Click the export icon (svg index 6002) to trigger the Excel export, wait for the download to complete, then scan the page for any .xlsx links or download confirmation.\n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=html/body/div/div/div/main/div/div[3]/div[1]/div/div[2]/svg').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        # -> Reload the All Sales Management page to restore the SPA and interactive elements so export controls can be re-located and export retried.\n        await page.goto(\"http://localhost:5173/manowzab-sales/\", wait_until=\"commit\", timeout=10000)\n        \n        # -> Reload the All Sales Management page to restore the SPA, re-scan for the export control, then attempt to trigger the Excel export and verify a downloaded .xlsx link or file.\n        await page.goto(\"http://localhost:5173/manowzab-sales/#/all-sales\", wait_until=\"commit\", timeout=10000)\n        \n        # -> Click the export control (parent div at index 7726) to trigger the Excel export, then scan the page for any .xlsx links or download confirmation.\n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=html/body/div/div/div/main/div/div[3]/div[1]/div/div[2]').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        # -> Click the export/download control at parent div index 7726 to trigger the Excel export, wait for the action to complete, then scan the page for any .xlsx links or visible download confirmation.\n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=html/body/div/div/div/main/div/div[3]/div[1]/div/div[2]').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        # -> Click the export icon at svg index 8457, then scan the page for any .xlsx links or visible download confirmation (search for '.xlsx', 'Excel', 'ส่งออก', 'ดาวน์โหลด', 'ไฟล์').\n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=html/body/div/div/div/main/div/div[3]/div[1]/div/div[2]/svg').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        # -> Click the export control's parent element (div index 8456) to attempt to trigger the Excel export, wait for the action to complete, then scan the page for any .xlsx links or visible download confirmation.\n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=html/body/div/div/div/main/div/div[3]/div[1]/div/div[2]').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        await asyncio.sleep(5)\n\n    finally:\n        if context:\n            await context.close()\n        if browser:\n            await browser.close()\n        if pw:\n            await pw.stop()\n\nasyncio.run(run_test())\n    ",
    "testStatus": "PASSED",
    "testError": "",
    "testType": "FRONTEND",
    "createFrom": "mcp",
    "testVisualization": "https://testsprite-videos.s3.us-east-1.amazonaws.com/9448f488-3041-7031-4f14-e580690284c6/1770624786240869//tmp/test_task/result.webm",
    "created": "2026-02-09T07:58:52.925Z",
    "modified": "2026-02-09T08:13:06.440Z"
  },
  {
    "projectId": "2dd79580-0ea6-4ee2-b674-779917bbbb62",
    "testId": "da0699a1-3be0-495f-be41-54aa40580380",
    "userId": "9448f488-3041-7031-4f14-e580690284c6",
    "title": "TC012-Customer Management - Add New Customer",
    "description": "Verify that users can add a new customer with valid data using the modal form and that the customer list updates in real-time.",
    "code": "import asyncio\nfrom playwright import async_api\n\nasync def run_test():\n    pw = None\n    browser = None\n    context = None\n\n    try:\n        # Start a Playwright session in asynchronous mode\n        pw = await async_api.async_playwright().start()\n\n        # Launch a Chromium browser in headless mode with custom arguments\n        browser = await pw.chromium.launch(\n            headless=True,\n            args=[\n                \"--window-size=1280,720\",         # Set the browser window size\n                \"--disable-dev-shm-usage\",        # Avoid using /dev/shm which can cause issues in containers\n                \"--ipc=host\",                     # Use host-level IPC for better stability\n                \"--single-process\"                # Run the browser in a single process mode\n            ],\n        )\n\n        # Create a new browser context (like an incognito window)\n        context = await browser.new_context()\n        context.set_default_timeout(5000)\n\n        # Open a new page in the browser context\n        page = await context.new_page()\n\n        # Navigate to your target URL and wait until the network request is committed\n        await page.goto(\"http://localhost:5173/manowzab-sales/\", wait_until=\"commit\", timeout=10000)\n\n        # Wait for the main page to reach DOMContentLoaded state (optional for stability)\n        try:\n            await page.wait_for_load_state(\"domcontentloaded\", timeout=3000)\n        except async_api.Error:\n            pass\n\n        # Iterate through all iframes and wait for them to load as well\n        for frame in page.frames:\n            try:\n                await frame.wait_for_load_state(\"domcontentloaded\", timeout=3000)\n            except async_api.Error:\n                pass\n\n        # Interact with the page elements to simulate user flow\n        # -> Navigate to http://localhost:5173/manowzab-sales/\n        await page.goto(\"http://localhost:5173/manowzab-sales/\", wait_until=\"commit\", timeout=10000)\n        \n        # -> Navigate to the Customers Management page (use direct route since current SPA did not load).\n        await page.goto(\"http://localhost:5173/manowzab-sales/customers\", wait_until=\"commit\", timeout=10000)\n        \n        # -> Reload the Customers page (force a full navigation) to try to load the SPA and reveal interactive elements (buttons/inputs). If reload does not help, alternative entry routes will be attempted.\n        await page.goto(\"http://localhost:5173/manowzab-sales/customers\", wait_until=\"commit\", timeout=10000)\n        \n        # -> Try an alternative SPA entry by navigating to the hash-based customers route to force client-side routing: http://localhost:5173/manowzab-sales/#/customers\n        await page.goto(\"http://localhost:5173/manowzab-sales/#/customers\", wait_until=\"commit\", timeout=10000)\n        \n        # -> Try an alternative direct URL to force the SPA entry point (index.html) to load using a full navigation to /manowzab-sales/index.html.\n        await page.goto(\"http://localhost:5173/manowzab-sales/index.html\", wait_until=\"commit\", timeout=10000)\n        \n        # -> Open a new tab to the dev server root (http://localhost:5173/) to check whether the SPA or a directory/index page loads; use that to find a working entry route.\n        await page.goto(\"http://localhost:5173/\", wait_until=\"commit\", timeout=10000)\n        \n        # -> Open the dev server root in a new tab (http://localhost:5173/) to locate a working SPA entry point and reveal interactive elements.\n        await page.goto(\"http://localhost:5173/\", wait_until=\"commit\", timeout=10000)\n        \n        # -> Force a fresh load of the SPA by navigating to a cache-busted URL (http://localhost:5173/manowzab-sales/?_cb=1). If the page remains blank, attempt next recovery steps (different cache-buster, different entry route) or report server issue.\n        await page.goto(\"http://localhost:5173/manowzab-sales/?_cb=1\", wait_until=\"commit\", timeout=10000)\n        \n        # -> Try loading the app using the loopback IP (http://127.0.0.1:5173/manowzab-sales/) to check if the dev server responds differently and to reveal interactive elements.\n        await page.goto(\"http://127.0.0.1:5173/manowzab-sales/\", wait_until=\"commit\", timeout=10000)\n        \n        # -> Click the page Reload button to retry loading the dev server and initialize the SPA. If reload still fails, attempt alternative recovery (check other hosts/ports or report server issue).\n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=html/body/div[1]/div[1]/div[2]/div/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        # -> Click the Reload button to retry loading the dev server and initialize the SPA (click element index 201). If that fails, prepare to report server issue and stop UI-based test attempts.\n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=html/body/div[1]/div[1]/div[2]/div/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        await asyncio.sleep(5)\n\n    finally:\n        if context:\n            await context.close()\n        if browser:\n            await browser.close()\n        if pw:\n            await pw.stop()\n\nasyncio.run(run_test())\n    ",
    "testStatus": "PASSED",
    "testError": "",
    "testType": "FRONTEND",
    "createFrom": "mcp",
    "testVisualization": "https://testsprite-videos.s3.us-east-1.amazonaws.com/9448f488-3041-7031-4f14-e580690284c6/1770624680955114//tmp/test_task/result.webm",
    "created": "2026-02-09T07:58:52.930Z",
    "modified": "2026-02-09T08:11:21.063Z"
  },
  {
    "projectId": "2dd79580-0ea6-4ee2-b674-779917bbbb62",
    "testId": "141e56dc-1af1-44cf-927b-e04f781541ad",
    "userId": "9448f488-3041-7031-4f14-e580690284c6",
    "title": "TC013-Customer Management - Edit Existing Customer",
    "description": "Verify that user can edit an existing customer's details via modal form and updates reflect correctly.",
    "code": "import asyncio\nfrom playwright import async_api\n\nasync def run_test():\n    pw = None\n    browser = None\n    context = None\n\n    try:\n        # Start a Playwright session in asynchronous mode\n        pw = await async_api.async_playwright().start()\n\n        # Launch a Chromium browser in headless mode with custom arguments\n        browser = await pw.chromium.launch(\n            headless=True,\n            args=[\n                \"--window-size=1280,720\",         # Set the browser window size\n                \"--disable-dev-shm-usage\",        # Avoid using /dev/shm which can cause issues in containers\n                \"--ipc=host\",                     # Use host-level IPC for better stability\n                \"--single-process\"                # Run the browser in a single process mode\n            ],\n        )\n\n        # Create a new browser context (like an incognito window)\n        context = await browser.new_context()\n        context.set_default_timeout(5000)\n\n        # Open a new page in the browser context\n        page = await context.new_page()\n\n        # Navigate to your target URL and wait until the network request is committed\n        await page.goto(\"http://localhost:5173/manowzab-sales/\", wait_until=\"commit\", timeout=10000)\n\n        # Wait for the main page to reach DOMContentLoaded state (optional for stability)\n        try:\n            await page.wait_for_load_state(\"domcontentloaded\", timeout=3000)\n        except async_api.Error:\n            pass\n\n        # Iterate through all iframes and wait for them to load as well\n        for frame in page.frames:\n            try:\n                await frame.wait_for_load_state(\"domcontentloaded\", timeout=3000)\n            except async_api.Error:\n                pass\n\n        # Interact with the page elements to simulate user flow\n        # -> Navigate to http://localhost:5173/manowzab-sales/\n        await page.goto(\"http://localhost:5173/manowzab-sales/\", wait_until=\"commit\", timeout=10000)\n        \n        # -> Fill the email and password fields and click 'Sign in' to log in to the app.\n        frame = context.pages[-1]\n        # Input text\n        elem = frame.locator('xpath=html/body/div/div/div/form/div[1]/div[1]/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('peng24@gmail.com')\n        \n        frame = context.pages[-1]\n        # Input text\n        elem = frame.locator('xpath=html/body/div/div/div/form/div[1]/div[2]/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('peng24@31197012')\n        \n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=html/body/div/div/div/form/div[2]/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        # -> Click the 'ข้อมูลลูกค้า' (Customers) link in the sidebar to open the Customers Management page.\n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=html/body/div/div/aside/nav/a[4]').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        # -> Open the Customers Management page by clicking the sidebar 'ข้อมูลลูกค้า' link and wait for the page to load; then check for the customer list and edit controls.\n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=html/body/div[1]/div/aside/nav/a[4]').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        # -> Click the first customer's 'แก้ไข' (Edit) button to open the edit modal form (use index 7125).\n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=html/body/div/div/div/main/div/div[3]/div/table/tbody/tr[1]/td[5]/div/button[1]').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        # -> Fill the phone, address, and note fields in the edit modal, click the Save (บันทึก) button, wait for the list to update, then extract the customer's updated phone/address/note from the customers list to verify the changes.\n        frame = context.pages[-1]\n        # Input text\n        elem = frame.locator('xpath=html/body/div[1]/div/div/main/div/div[4]/div/div[2]/div[1]/div/div/div/div[2]/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('081-234-5678')\n        \n        frame = context.pages[-1]\n        # Input text\n        elem = frame.locator('xpath=html/body/div[1]/div/div/main/div/div[4]/div/div[2]/div[1]/div/div/div/div[3]/textarea').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('บ้านเลขที่ 123/45 ถนนสุขุมวิท แขวงบางนา เขตบางนา กรุงเทพฯ')\n        \n        frame = context.pages[-1]\n        # Input text\n        elem = frame.locator('xpath=html/body/div[1]/div/div/main/div/div[4]/div/div[2]/div[1]/div/div/div/div[4]/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('ทดสอบแก้ไขข้อมูลลูกค้า')\n        \n        # -> Re-open the first customer's edit modal by clicking its 'แก้ไข' (Edit) button (index 13039), then submit the changes (Save) and verify the updated details in the customers list.\n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=html/body/div/div/div/main/div/div[3]/div/table/tbody/tr[1]/td[5]/div/button[1]').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        # -> Click the first customer's 'แก้ไข' (Edit) button to open the edit modal (use fresh index from page).\n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=html/body/div/div/div/main/div/div[3]/div/table/tbody/tr[1]/td[5]/div/button[1]').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        # -> Fill phone (index 25111), address (index 25116), note (index 25119), then click Save (index 25125) to submit changes.\n        frame = context.pages[-1]\n        # Input text\n        elem = frame.locator('xpath=html/body/div[1]/div/div/main/div/div[4]/div/div[2]/div[1]/div/div/div/div[2]/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('081-234-5678')\n        \n        frame = context.pages[-1]\n        # Input text\n        elem = frame.locator('xpath=html/body/div[1]/div/div/main/div/div[4]/div/div[2]/div[1]/div/div/div/div[3]/textarea').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('บ้านเลขที่ 123/45 ถนนสุขุมวิท แขวงบางนา เขตบางนา กรุงเทพฯ')\n        \n        frame = context.pages[-1]\n        # Input text\n        elem = frame.locator('xpath=html/body/div[1]/div/div/main/div/div[4]/div/div[2]/div[1]/div/div/div/div[4]/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('ทดสอบแก้ไขข้อมูลลูกค้า')\n        \n        # -> Click the first customer's 'แก้ไข' (Edit) button to open the edit modal (use fresh index), then submit the changes and verify the updated phone/address/note in the customers list.\n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=html/body/div/div/div/main/div/div[3]/div/table/tbody/tr[1]/td[5]/div/button[1]').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        # -> Click the modal 'บันทึก' (Save) button to submit the edited customer details, wait for the list to refresh, then extract the first customer's phone, address, and note from the customers list to verify the update.\n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=html/body/div[1]/div/div/main/div/div[4]/div/div[2]/div[2]/button[1]').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        # -> Open the first customer's edit modal (fresh indices) so the modal Save button and input fields are available; then re-fill fields if necessary and submit changes, then verify the first customer's phone/address/note in the list.\n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=html/body/div/div/div/main/div/div[3]/div/table/tbody/tr[1]/td[5]/div/button[1]').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        # -> Fill phone, address, and note in the open modal and click the modal 'บันทึก' (Save) button to submit the changes.\n        frame = context.pages[-1]\n        # Input text\n        elem = frame.locator('xpath=html/body/div[1]/div/div/main/div/div[4]/div/div[2]/div[1]/div/div/div/div[2]/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('081-234-5678')\n        \n        frame = context.pages[-1]\n        # Input text\n        elem = frame.locator('xpath=html/body/div[1]/div/div/main/div/div[4]/div/div[2]/div[1]/div/div/div/div[3]/textarea').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('บ้านเลขที่ 123/45 ถนนสุขุมวิท แขวงบางนา เขตบางนา กรุงเทพฯ')\n        \n        frame = context.pages[-1]\n        # Input text\n        elem = frame.locator('xpath=html/body/div[1]/div/div/main/div/div[4]/div/div[2]/div[1]/div/div/div/div[4]/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('ทดสอบแก้ไขข้อมูลลูกค้า')\n        \n        # -> Open the Add Customer modal so a test customer can be created (then it will be edited). Click the 'เพิ่มลูกค้าใหม่' (Add customer) button.\n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=html/body/div/div/div/main/div/div[1]/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        # -> Fill the 'เพิ่มลูกค้าใหม่' (Add customer) modal to create a test customer and submit the form (click บันทึก) so a stable record exists for editing.\n        frame = context.pages[-1]\n        # Input text\n        elem = frame.locator('xpath=html/body/div[1]/div/div/main/div/div[4]/div/div[2]/div[1]/div/div/div/div[1]/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('ทดสอบลูกค้า 123')\n        \n        frame = context.pages[-1]\n        # Input text\n        elem = frame.locator('xpath=html/body/div[1]/div/div/main/div/div[4]/div/div[2]/div[1]/div/div/div/div[2]/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('081-234-5678')\n        \n        frame = context.pages[-1]\n        # Input text\n        elem = frame.locator('xpath=html/body/div[1]/div/div/main/div/div[4]/div/div[2]/div[1]/div/div/div/div[3]/textarea').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('บ้านเลขที่ 123/45 ถนนสุขุมวิท แขวงบางนา เขตบางนา กรุงเทพฯ')\n        \n        # -> Open the 'เพิ่มลูกค้าใหม่' (Add customer) modal so a stable test customer can be created (click element index 49596).\n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=html/body/div/div/div/main/div/div[1]/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        # -> Fill the Add Customer modal to create a test customer and submit (click บันทึก) so a stable record exists to later open and edit.\n        frame = context.pages[-1]\n        # Input text\n        elem = frame.locator('xpath=html/body/div[1]/div/div/main/div/div[4]/div/div[2]/div[1]/div/div/div/div[1]/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('e2e-edit-customer-001')\n        \n        frame = context.pages[-1]\n        # Input text\n        elem = frame.locator('xpath=html/body/div[1]/div/div/main/div/div[4]/div/div[2]/div[1]/div/div/div/div[2]/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('081-555-0001')\n        \n        frame = context.pages[-1]\n        # Input text\n        elem = frame.locator('xpath=html/body/div[1]/div/div/main/div/div[4]/div/div[2]/div[1]/div/div/div/div[3]/textarea').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('123 Test St, Bangkok')\n        \n        # -> Open the Add Customer modal and submit the Add form to create a stable test customer record so it can be edited and verified.\n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=html/body/div/div/div/main/div/div[1]/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        await asyncio.sleep(5)\n\n    finally:\n        if context:\n            await context.close()\n        if browser:\n            await browser.close()\n        if pw:\n            await pw.stop()\n\nasyncio.run(run_test())\n    ",
    "testStatus": "PASSED",
    "testError": "",
    "testType": "FRONTEND",
    "createFrom": "mcp",
    "testVisualization": "https://testsprite-videos.s3.us-east-1.amazonaws.com/9448f488-3041-7031-4f14-e580690284c6/1770624757830516//tmp/test_task/result.webm",
    "created": "2026-02-09T07:58:52.936Z",
    "modified": "2026-02-09T08:12:38.007Z"
  },
  {
    "projectId": "2dd79580-0ea6-4ee2-b674-779917bbbb62",
    "testId": "93bedbb1-8fa7-4228-9dd2-1067649c5427",
    "userId": "9448f488-3041-7031-4f14-e580690284c6",
    "title": "TC014-Customer Management - Delete Customer",
    "description": "Verify that a customer can be deleted with confirmation and that the list and database update accordingly.",
    "code": "import asyncio\nfrom playwright import async_api\n\nasync def run_test():\n    pw = None\n    browser = None\n    context = None\n\n    try:\n        # Start a Playwright session in asynchronous mode\n        pw = await async_api.async_playwright().start()\n\n        # Launch a Chromium browser in headless mode with custom arguments\n        browser = await pw.chromium.launch(\n            headless=True,\n            args=[\n                \"--window-size=1280,720\",         # Set the browser window size\n                \"--disable-dev-shm-usage\",        # Avoid using /dev/shm which can cause issues in containers\n                \"--ipc=host\",                     # Use host-level IPC for better stability\n                \"--single-process\"                # Run the browser in a single process mode\n            ],\n        )\n\n        # Create a new browser context (like an incognito window)\n        context = await browser.new_context()\n        context.set_default_timeout(5000)\n\n        # Open a new page in the browser context\n        page = await context.new_page()\n\n        # Navigate to your target URL and wait until the network request is committed\n        await page.goto(\"http://localhost:5173/manowzab-sales/\", wait_until=\"commit\", timeout=10000)\n\n        # Wait for the main page to reach DOMContentLoaded state (optional for stability)\n        try:\n            await page.wait_for_load_state(\"domcontentloaded\", timeout=3000)\n        except async_api.Error:\n            pass\n\n        # Iterate through all iframes and wait for them to load as well\n        for frame in page.frames:\n            try:\n                await frame.wait_for_load_state(\"domcontentloaded\", timeout=3000)\n            except async_api.Error:\n                pass\n\n        # Interact with the page elements to simulate user flow\n        # -> Navigate to http://localhost:5173/manowzab-sales/\n        await page.goto(\"http://localhost:5173/manowzab-sales/\", wait_until=\"commit\", timeout=10000)\n        \n        # -> Open the Customers Management page directly (navigate to /manowzab-sales/customers) since no clickable navigation elements are present on the current page.\n        await page.goto(\"http://localhost:5173/manowzab-sales/customers\", wait_until=\"commit\", timeout=10000)\n        \n        # -> Fill the email and password fields and click the Sign in button to authenticate.\n        frame = context.pages[-1]\n        # Input text\n        elem = frame.locator('xpath=html/body/div/div/div/form/div[1]/div[1]/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('peng24@gmail.com')\n        \n        frame = context.pages[-1]\n        # Input text\n        elem = frame.locator('xpath=html/body/div/div/div/form/div[1]/div[2]/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('peng24@31197012')\n        \n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=html/body/div/div/div/form/div[2]/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        # -> Click the 'ข้อมูลลูกค้า' (Customers) link in the left sidebar to open the Customers Management page.\n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=html/body/div/div/aside/nav/a[4]').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        # -> Click the 'ข้อมูลลูกค้า' (Customers) link (index 681) to open the Customers Management page, then wait briefly for the page to render.\n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=html/body/div[1]/div/aside/nav/a[4]').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        # -> Click the delete button for the first customer (index 1090) to open the confirmation prompt and verify it appears.\n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=html/body/div/div/div/main/div/div[3]/div/table/tbody/tr[1]/td[5]/div/button[2]').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        # -> Click the first customer's delete button (index 7112) to open the confirmation prompt, then wait to verify the prompt appears.\n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=html/body/div/div/div/main/div/div[3]/div/table/tbody/tr[1]/td[5]/div/button[2]').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        # -> Click the confirmation button 'ลบข้อมูล' (index 12989) to confirm deletion, then wait for the page to update and verify the customer is removed from the list and database.\n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=html/body/div[2]/div/div[6]/button[1]').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        # -> Click the first customer's 'ลบ' (delete) button to re-open the confirmation modal so the deletion can be confirmed.\n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=html/body/div/div/div/main/div/div[3]/div/table/tbody/tr[1]/td[5]/div/button[2]').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        # -> Click the confirm-delete button (index 19083) to confirm deletion, wait for the UI to update, then check the page content to verify the customer \"กนกพร สุขสมศรี\" is removed from the list.\n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=html/body/div[3]/div/div[6]/button[1]').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        # --> Assertions to verify final state\n        frame = context.pages[-1]\n        try:\n            await expect(frame.locator('text=Customer deleted successfully').first).to_be_visible(timeout=3000)\n        except AssertionError:\n            raise AssertionError(\"Test case failed: The test attempted to delete a customer and verify the deletion (confirmation accepted) and that the customer list/database updated, but the expected success message 'Customer deleted successfully' did not appear — the customer may not have been removed.\")\n        await asyncio.sleep(5)\n\n    finally:\n        if context:\n            await context.close()\n        if browser:\n            await browser.close()\n        if pw:\n            await pw.stop()\n\nasyncio.run(run_test())\n    ",
    "testStatus": "FAILED",
    "testError": "Result: Deletion could not be completed via the UI. Actions and findings:\n\n- Reproduced customers management page and located the first customer: \"กนกพร สุขสมศรี\" (list visible). Delete button element observed (current list delete button index for the first row: 19292).\n- Clicking a row's delete button successfully opened the confirmation modal with text \"ยืนยันการลบ?\" (modal verified).\n- Attempts to confirm deletion with the modal's confirm button failed twice due to the element being stale or not interactable (indexes tried when modal appeared: 12989 and 19083). After each failure the modal closed or the page re-rendered and deletion did not occur.\n- Because the confirm action was attempted twice and both attempts failed (stale/not-interactable), further immediate retries of the same UI confirm action are not recommended per automation policy.\n\nConclusion: The UI shows the confirmation modal but the confirm button cannot be reliably clicked (stale / not-interactable). The customer was NOT deleted; list and database were not verified as updated.\n\nRecommended next steps (choose one):\n1) Developer investigation: inspect console/errors, ensure modal buttons remain attached to DOM and are interactable, add stable test ids for modal buttons.\n2) Try alternative automated approaches (requires permission):\n   - Use the application's API endpoint to delete the customer (call backend DELETE /customers/:id) and then verify list/db.\n   - Use a different interaction method (send keyboard Enter while modal focused) or increase wait/timeouts before clicking confirm.\n3) Manual verification: developer or tester manually confirm deletion in the UI and/or verify the database record is removed.\n\nIf desired, allow the automation to proceed with one of the above alternatives (API deletion or attempt keyboard-confirm). Provide instruction which approach to try next and permission to proceed. Current status: stopping now because UI confirm could not be completed (success=false).",
    "testType": "FRONTEND",
    "createFrom": "mcp",
    "testVisualization": "https://testsprite-videos.s3.us-east-1.amazonaws.com/9448f488-3041-7031-4f14-e580690284c6/1770624349059325//tmp/test_task/result.webm",
    "created": "2026-02-09T07:58:52.941Z",
    "modified": "2026-02-09T08:05:49.222Z"
  },
  {
    "projectId": "2dd79580-0ea6-4ee2-b674-779917bbbb62",
    "testId": "e14f48bf-bbf5-49d4-bf6a-2fed5b66c4fe",
    "userId": "9448f488-3041-7031-4f14-e580690284c6",
    "title": "TC015-Customer Management - Real-time Search",
    "description": "Verify that the search input filters the customer list in real-time based on name matches.",
    "code": "import asyncio\nfrom playwright import async_api\n\nasync def run_test():\n    pw = None\n    browser = None\n    context = None\n\n    try:\n        # Start a Playwright session in asynchronous mode\n        pw = await async_api.async_playwright().start()\n\n        # Launch a Chromium browser in headless mode with custom arguments\n        browser = await pw.chromium.launch(\n            headless=True,\n            args=[\n                \"--window-size=1280,720\",         # Set the browser window size\n                \"--disable-dev-shm-usage\",        # Avoid using /dev/shm which can cause issues in containers\n                \"--ipc=host\",                     # Use host-level IPC for better stability\n                \"--single-process\"                # Run the browser in a single process mode\n            ],\n        )\n\n        # Create a new browser context (like an incognito window)\n        context = await browser.new_context()\n        context.set_default_timeout(5000)\n\n        # Open a new page in the browser context\n        page = await context.new_page()\n\n        # Navigate to your target URL and wait until the network request is committed\n        await page.goto(\"http://localhost:5173/manowzab-sales/\", wait_until=\"commit\", timeout=10000)\n\n        # Wait for the main page to reach DOMContentLoaded state (optional for stability)\n        try:\n            await page.wait_for_load_state(\"domcontentloaded\", timeout=3000)\n        except async_api.Error:\n            pass\n\n        # Iterate through all iframes and wait for them to load as well\n        for frame in page.frames:\n            try:\n                await frame.wait_for_load_state(\"domcontentloaded\", timeout=3000)\n            except async_api.Error:\n                pass\n\n        # Interact with the page elements to simulate user flow\n        # -> Navigate to http://localhost:5173/manowzab-sales/\n        await page.goto(\"http://localhost:5173/manowzab-sales/\", wait_until=\"commit\", timeout=10000)\n        \n        # -> Fill the email and password fields and submit the sign-in form to access the dashboard (Customers Management).\n        frame = context.pages[-1]\n        # Input text\n        elem = frame.locator('xpath=html/body/div/div/div/form/div[1]/div[1]/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('peng24@gmail.com')\n        \n        frame = context.pages[-1]\n        # Input text\n        elem = frame.locator('xpath=html/body/div/div/div/form/div[1]/div[2]/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('peng24@31197012')\n        \n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=html/body/div/div/div/form/div[2]/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        # -> Reload the app page to force the SPA to initialize and then re-check for the search input and customer list.\n        await page.goto(\"http://localhost:5173/manowzab-sales/#/\", wait_until=\"commit\", timeout=10000)\n        \n        # -> Open the Customers Management page by clicking the 'ข้อมูลลูกค้า' (Customer data) sidebar link so the search input and customer list become available.\n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=html/body/div/div/aside/nav/a[4]').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        # -> Click the 'ข้อมูลลูกค้า' (Customers) sidebar link to open the Customers Management page and reveal the search input and customer list, then locate the search input for testing.\n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=html/body/div[1]/div/aside/nav/a[4]').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        # -> Type a partial customer name ('กุ้ง') into the search input (index 13000) to trigger real-time filtering, extract the visible customer names to verify filtering, then clear the input and extract visible names again to confirm the full list is restored.\n        frame = context.pages[-1]\n        # Input text\n        elem = frame.locator('xpath=html/body/div/div/div/main/div/div[2]/div/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('กุ้ง')\n        \n        frame = context.pages[-1]\n        # Input text\n        elem = frame.locator('xpath=html/body/div/div/div/main/div/div[2]/div/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('')\n        \n        # -> Reload the Customers Management page to recover the SPA content, then extract the visible customer names to verify the full list is restored after the search input was cleared.\n        await page.goto(\"http://localhost:5173/manowzab-sales/#/customers\", wait_until=\"commit\", timeout=10000)\n        \n        # -> Type 'กุ้ง' into the search input (index 31114), extract the visible customer names to verify filtering, then clear the input and extract the visible customer names again to confirm the full list is restored.\n        frame = context.pages[-1]\n        # Input text\n        elem = frame.locator('xpath=html/body/div/div/div/main/div/div[2]/div/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('กุ้ง')\n        \n        frame = context.pages[-1]\n        # Input text\n        elem = frame.locator('xpath=html/body/div/div/div/main/div/div[2]/div/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('')\n        \n        await asyncio.sleep(5)\n\n    finally:\n        if context:\n            await context.close()\n        if browser:\n            await browser.close()\n        if pw:\n            await pw.stop()\n\nasyncio.run(run_test())\n    ",
    "testStatus": "PASSED",
    "testError": "",
    "testType": "FRONTEND",
    "createFrom": "mcp",
    "testVisualization": "https://testsprite-videos.s3.us-east-1.amazonaws.com/9448f488-3041-7031-4f14-e580690284c6/177062478662606//tmp/test_task/result.webm",
    "created": "2026-02-09T07:58:52.946Z",
    "modified": "2026-02-09T08:13:06.782Z"
  },
  {
    "projectId": "2dd79580-0ea6-4ee2-b674-779917bbbb62",
    "testId": "3b088f75-d432-4805-a40a-57304fba9ec4",
    "userId": "9448f488-3041-7031-4f14-e580690284c6",
    "title": "TC016-View Customer Detail with Purchase Statistics and History",
    "description": "Verify that detailed customer profile displays personal info, purchase stats including total orders, amount, latest order, and complete purchase history table correctly.",
    "code": "import asyncio\nfrom playwright import async_api\n\nasync def run_test():\n    pw = None\n    browser = None\n    context = None\n\n    try:\n        # Start a Playwright session in asynchronous mode\n        pw = await async_api.async_playwright().start()\n\n        # Launch a Chromium browser in headless mode with custom arguments\n        browser = await pw.chromium.launch(\n            headless=True,\n            args=[\n                \"--window-size=1280,720\",         # Set the browser window size\n                \"--disable-dev-shm-usage\",        # Avoid using /dev/shm which can cause issues in containers\n                \"--ipc=host\",                     # Use host-level IPC for better stability\n                \"--single-process\"                # Run the browser in a single process mode\n            ],\n        )\n\n        # Create a new browser context (like an incognito window)\n        context = await browser.new_context()\n        context.set_default_timeout(5000)\n\n        # Open a new page in the browser context\n        page = await context.new_page()\n\n        # Navigate to your target URL and wait until the network request is committed\n        await page.goto(\"http://localhost:5173/manowzab-sales/\", wait_until=\"commit\", timeout=10000)\n\n        # Wait for the main page to reach DOMContentLoaded state (optional for stability)\n        try:\n            await page.wait_for_load_state(\"domcontentloaded\", timeout=3000)\n        except async_api.Error:\n            pass\n\n        # Iterate through all iframes and wait for them to load as well\n        for frame in page.frames:\n            try:\n                await frame.wait_for_load_state(\"domcontentloaded\", timeout=3000)\n            except async_api.Error:\n                pass\n\n        # Interact with the page elements to simulate user flow\n        # -> Navigate to http://localhost:5173/manowzab-sales/\n        await page.goto(\"http://localhost:5173/manowzab-sales/\", wait_until=\"commit\", timeout=10000)\n        \n        # -> Try to allow the SPA to finish loading (wait), then navigate to the login page to access customer list. If login appears, perform login with provided credentials and then navigate to a customer's detail page.\n        await page.goto(\"http://localhost:5173/manowzab-sales/login\", wait_until=\"commit\", timeout=10000)\n        \n        # -> Allow more time for the SPA to initialize (wait 3s), then reload the login page to attempt to render the login form. If still blank, prepare to retry a different navigation or report the website issue.\n        await page.goto(\"http://localhost:5173/manowzab-sales/login\", wait_until=\"commit\", timeout=10000)\n        \n        # -> Fill the email and password fields with the provided credentials and click the Sign in button to log in.\n        frame = context.pages[-1]\n        # Input text\n        elem = frame.locator('xpath=html/body/div/div/div/form/div[1]/div[1]/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('peng24@gmail.com')\n        \n        frame = context.pages[-1]\n        # Input text\n        elem = frame.locator('xpath=html/body/div/div/div/form/div[1]/div[2]/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('peng24@31197012')\n        \n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=html/body/div/div/div/form/div[2]/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        # -> Open the customer list by clicking the 'ข้อมูลลูกค้า' (Customer data) item in the sidebar so a customer can be selected.\n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=html/body/div/div/aside/nav/a[4]').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        # -> Open the customer list by clicking the 'ข้อมูลลูกค้า' (Customer data) link in the sidebar so a customer can be selected.\n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=html/body/div[1]/div/aside/nav/a[4]').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        # -> Click the first customer link in the list to open the customer's detail page and load the detailed profile view.\n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=html/body/div/div/div/main/div/div[3]/div/table/tbody/tr[1]/td[1]/div/div[2]/a').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        # -> Click the first customer link (กนกพร สุขสมศรี) to open the customer's detail page and load the detailed profile view, then inspect the page for personal info, purchase statistics, and purchase history.\n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=html/body/div[1]/div/div/main/div/div[3]/div/table/tbody/tr[1]/td[1]/div/div[2]/a').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        await asyncio.sleep(5)\n\n    finally:\n        if context:\n            await context.close()\n        if browser:\n            await browser.close()\n        if pw:\n            await pw.stop()\n\nasyncio.run(run_test())\n    ",
    "testStatus": "PASSED",
    "testError": "",
    "testType": "FRONTEND",
    "createFrom": "mcp",
    "testVisualization": "https://testsprite-videos.s3.us-east-1.amazonaws.com/9448f488-3041-7031-4f14-e580690284c6/1770624306438464//tmp/test_task/result.webm",
    "created": "2026-02-09T07:58:52.951Z",
    "modified": "2026-02-09T08:05:06.599Z"
  },
  {
    "projectId": "2dd79580-0ea6-4ee2-b674-779917bbbb62",
    "testId": "6bb8a4b9-b4c3-4794-b045-4c1c71f30672",
    "userId": "9448f488-3041-7031-4f14-e580690284c6",
    "title": "TC017-Responsive Design on Desktop, Tablet, and Mobile",
    "description": "Verify the application layout adapts correctly and maintains usability across desktop, tablet, and mobile breakpoints.",
    "code": "import asyncio\nfrom playwright import async_api\n\nasync def run_test():\n    pw = None\n    browser = None\n    context = None\n\n    try:\n        # Start a Playwright session in asynchronous mode\n        pw = await async_api.async_playwright().start()\n\n        # Launch a Chromium browser in headless mode with custom arguments\n        browser = await pw.chromium.launch(\n            headless=True,\n            args=[\n                \"--window-size=1280,720\",         # Set the browser window size\n                \"--disable-dev-shm-usage\",        # Avoid using /dev/shm which can cause issues in containers\n                \"--ipc=host\",                     # Use host-level IPC for better stability\n                \"--single-process\"                # Run the browser in a single process mode\n            ],\n        )\n\n        # Create a new browser context (like an incognito window)\n        context = await browser.new_context()\n        context.set_default_timeout(5000)\n\n        # Open a new page in the browser context\n        page = await context.new_page()\n\n        # Navigate to your target URL and wait until the network request is committed\n        await page.goto(\"http://localhost:5173/manowzab-sales/\", wait_until=\"commit\", timeout=10000)\n\n        # Wait for the main page to reach DOMContentLoaded state (optional for stability)\n        try:\n            await page.wait_for_load_state(\"domcontentloaded\", timeout=3000)\n        except async_api.Error:\n            pass\n\n        # Iterate through all iframes and wait for them to load as well\n        for frame in page.frames:\n            try:\n                await frame.wait_for_load_state(\"domcontentloaded\", timeout=3000)\n            except async_api.Error:\n                pass\n\n        # Interact with the page elements to simulate user flow\n        # -> Navigate to http://localhost:5173/manowzab-sales/\n        await page.goto(\"http://localhost:5173/manowzab-sales/\", wait_until=\"commit\", timeout=10000)\n        \n        # -> Fill the login form and submit (desktop) to reach the dashboard so the sidebar can be inspected.\n        frame = context.pages[-1]\n        # Input text\n        elem = frame.locator('xpath=html/body/div/div/div/form/div[1]/div[1]/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('peng24@gmail.com')\n        \n        frame = context.pages[-1]\n        # Input text\n        elem = frame.locator('xpath=html/body/div/div/div/form/div[1]/div[2]/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('peng24@31197012')\n        \n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=html/body/div/div/div/form/div[2]/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        # -> Click the 'ข้อมูลลูกค้า' (Customer info) sidebar link to verify navigation from the desktop sidebar, then wait for the page to update.\n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=html/body/div/div/aside/nav/a[4]').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        # -> Click the 'ข้อมูลลูกค้า' (Customer info) sidebar link using the correct interactive element index (668) to verify navigation from the desktop sidebar.\n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=html/body/div/div/aside/nav/a[4]').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        # --> Assertions to verify final state\n        frame = context.pages[-1]\n        try:\n            await expect(frame.locator('text=Logout').first).to_be_visible(timeout=3000)\n        except AssertionError:\n            raise AssertionError(\"Test case failed: The test attempted to verify that the layout adapts to the mobile breakpoint and that the mobile navigation exposes 'Logout' (and app version). The 'Logout' item was not visible — the layout did not switch to the mobile navigation or the mobile nav items are missing.\")\n        await asyncio.sleep(5)\n\n    finally:\n        if context:\n            await context.close()\n        if browser:\n            await browser.close()\n        if pw:\n            await pw.stop()\n\nasyncio.run(run_test())\n    ",
    "testStatus": "FAILED",
    "testError": "Summary of verification (desktop) and blockers for tablet/mobile:\n\nDesktop (verified):\n- App loaded and user authenticated; navigated to Customers page (URL: /#/customers).\n- Left sidebar is visible and functional; clicked 'ข้อมูลลูกค้า' (Customers) successfully.\n- Customers list is rendered with multiple rows, each row has Edit (แก้ไข) and Delete (ลบ) buttons.\n- Search input present (placeholder: ค้นหาชื่อลูกค้า หรือเบอร์โทร...).\n- 'เพิ่มลูกค้าใหม่' (Add customer) button present.\n- Sidebar shows Version 1.1.1 and an 'ออกจากระบบ' (Logout) button.\n- Visual inspection (screenshot) indicates desktop layout and spacing look correct and usable.\n\nTablet & Mobile (NOT verified):\n- Environment attempted a viewport-resize but the action failed with error: 'str' object has no attribute 'error'. No tablet or mobile breakpoints were tested.\n- Unable to confirm whether the left sidebar collapses to a tablet/mobile layout, whether bottom navigation appears, or whether logout/version are accessible from mobile nav.\n\nBlocking issue and request:\n- The current automation environment does not support viewport resizing/emulation (error encountered). To complete responsive checks, provide one of the following:\n  1) Enable viewport-resize or device-emulation capability in the test environment, or\n  2) Provide screenshots or a devtools capture at the target breakpoints (suggested widths: Desktop 1280px, Tablet 768px, Mobile 375px), or\n  3) Provide alternative URLs or query params that trigger the responsive layouts, or\n  4) Allow setting the user-agent/viewport via automation so the page can be reloaded in mobile mode.\n\nConclusion:\n- Desktop layout and navigation verified and usable. Tablet and mobile responsiveness could not be verified due to environment limitation. Task incomplete for tablet/mobile checks.\n\nNext steps (recommended):\n- Enable/resend a means to emulate viewport sizes or supply the breakpoint screenshots; then re-run the tablet and mobile checks.\n\nResult: responsive verification incomplete (success=false).",
    "testType": "FRONTEND",
    "createFrom": "mcp",
    "testVisualization": "https://testsprite-videos.s3.us-east-1.amazonaws.com/9448f488-3041-7031-4f14-e580690284c6/1770624170016508//tmp/test_task/result.webm",
    "created": "2026-02-09T07:58:52.956Z",
    "modified": "2026-02-09T08:02:50.150Z"
  },
  {
    "projectId": "2dd79580-0ea6-4ee2-b674-779917bbbb62",
    "testId": "82699d6c-8a9d-4fe0-ab24-f429630711c7",
    "userId": "9448f488-3041-7031-4f14-e580690284c6",
    "title": "TC018-Logout Functionality and Session Termination",
    "description": "Verify that clicking logout ends user session, clears authentication state, and redirects to login page.",
    "code": "import asyncio\nfrom playwright import async_api\n\nasync def run_test():\n    pw = None\n    browser = None\n    context = None\n\n    try:\n        # Start a Playwright session in asynchronous mode\n        pw = await async_api.async_playwright().start()\n\n        # Launch a Chromium browser in headless mode with custom arguments\n        browser = await pw.chromium.launch(\n            headless=True,\n            args=[\n                \"--window-size=1280,720\",         # Set the browser window size\n                \"--disable-dev-shm-usage\",        # Avoid using /dev/shm which can cause issues in containers\n                \"--ipc=host\",                     # Use host-level IPC for better stability\n                \"--single-process\"                # Run the browser in a single process mode\n            ],\n        )\n\n        # Create a new browser context (like an incognito window)\n        context = await browser.new_context()\n        context.set_default_timeout(5000)\n\n        # Open a new page in the browser context\n        page = await context.new_page()\n\n        # Navigate to your target URL and wait until the network request is committed\n        await page.goto(\"http://localhost:5173/manowzab-sales/\", wait_until=\"commit\", timeout=10000)\n\n        # Wait for the main page to reach DOMContentLoaded state (optional for stability)\n        try:\n            await page.wait_for_load_state(\"domcontentloaded\", timeout=3000)\n        except async_api.Error:\n            pass\n\n        # Iterate through all iframes and wait for them to load as well\n        for frame in page.frames:\n            try:\n                await frame.wait_for_load_state(\"domcontentloaded\", timeout=3000)\n            except async_api.Error:\n                pass\n\n        # Interact with the page elements to simulate user flow\n        # -> Navigate to http://localhost:5173/manowzab-sales/\n        await page.goto(\"http://localhost:5173/manowzab-sales/\", wait_until=\"commit\", timeout=10000)\n        \n        # -> Wait for the page to finish loading. If nothing appears, reload the same URL to force the SPA to load.\n        await page.goto(\"http://localhost:5173/manowzab-sales/\", wait_until=\"commit\", timeout=10000)\n        \n        # -> Navigate to the login page to load the login form and proceed with authentication.\n        await page.goto(\"http://localhost:5173/manowzab-sales/login\", wait_until=\"commit\", timeout=10000)\n        \n        # -> Try a different URL form for the login route (hash-based route) to force the SPA to render and expose interactive elements (login form).\n        await page.goto(\"http://localhost:5173/manowzab-sales/#/login\", wait_until=\"commit\", timeout=10000)\n        \n        # -> Navigate to an alternate base URL (http://localhost:5173/) to attempt to load the application UI so the login form becomes interactable.\n        await page.goto(\"http://localhost:5173/\", wait_until=\"commit\", timeout=10000)\n        \n        # -> Navigate to an index.html variant of the app URL (http://localhost:5173/manowzab-sales/index.html#/login) to attempt to force the SPA to load and expose the login form.\n        await page.goto(\"http://localhost:5173/manowzab-sales/index.html#/login\", wait_until=\"commit\", timeout=10000)\n        \n        # -> Navigate to the app using the loopback IP (127.0.0.1) index.html hash login URL to attempt to load the SPA and reveal interactive/login elements; then inspect page for interactive elements.\n        await page.goto(\"http://127.0.0.1:5173/manowzab-sales/index.html#/login\", wait_until=\"commit\", timeout=10000)\n        \n        # -> Click the visible Reload button to attempt to recover the page and load the SPA (if the dev server responds). If reload does not restore the app, inspect new page elements and proceed with alternate navigation or report site issue.\n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=html/body/div[1]/div[1]/div[2]/div/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        # -> Click the Reload button (index 201) to attempt to recover the dev server and load the SPA; wait for 2 seconds and inspect page for interactive elements. If page remains blank, switch to alternate navigation strategy.\n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=html/body/div[1]/div[1]/div[2]/div/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        await asyncio.sleep(5)\n\n    finally:\n        if context:\n            await context.close()\n        if browser:\n            await browser.close()\n        if pw:\n            await pw.stop()\n\nasyncio.run(run_test())\n    ",
    "testStatus": "PASSED",
    "testError": "",
    "testType": "FRONTEND",
    "createFrom": "mcp",
    "testVisualization": "https://testsprite-videos.s3.us-east-1.amazonaws.com/9448f488-3041-7031-4f14-e580690284c6/1770624680047621//tmp/test_task/result.webm",
    "created": "2026-02-09T07:58:52.960Z",
    "modified": "2026-02-09T08:11:20.162Z"
  },
  {
    "projectId": "2dd79580-0ea6-4ee2-b674-779917bbbb62",
    "testId": "cff30e76-7a9e-443e-bab5-67a7183854fb",
    "userId": "9448f488-3041-7031-4f14-e580690284c6",
    "title": "TC019-Pull-to-Refresh Component on Mobile Devices",
    "description": "Verify that the pull-to-refresh component triggers manual data refresh on supported mobile devices.",
    "code": "import asyncio\nfrom playwright import async_api\n\nasync def run_test():\n    pw = None\n    browser = None\n    context = None\n\n    try:\n        # Start a Playwright session in asynchronous mode\n        pw = await async_api.async_playwright().start()\n\n        # Launch a Chromium browser in headless mode with custom arguments\n        browser = await pw.chromium.launch(\n            headless=True,\n            args=[\n                \"--window-size=1280,720\",         # Set the browser window size\n                \"--disable-dev-shm-usage\",        # Avoid using /dev/shm which can cause issues in containers\n                \"--ipc=host\",                     # Use host-level IPC for better stability\n                \"--single-process\"                # Run the browser in a single process mode\n            ],\n        )\n\n        # Create a new browser context (like an incognito window)\n        context = await browser.new_context()\n        context.set_default_timeout(5000)\n\n        # Open a new page in the browser context\n        page = await context.new_page()\n\n        # Navigate to your target URL and wait until the network request is committed\n        await page.goto(\"http://localhost:5173/manowzab-sales/\", wait_until=\"commit\", timeout=10000)\n\n        # Wait for the main page to reach DOMContentLoaded state (optional for stability)\n        try:\n            await page.wait_for_load_state(\"domcontentloaded\", timeout=3000)\n        except async_api.Error:\n            pass\n\n        # Iterate through all iframes and wait for them to load as well\n        for frame in page.frames:\n            try:\n                await frame.wait_for_load_state(\"domcontentloaded\", timeout=3000)\n            except async_api.Error:\n                pass\n\n        # Interact with the page elements to simulate user flow\n        # -> Navigate to http://localhost:5173/manowzab-sales/\n        await page.goto(\"http://localhost:5173/manowzab-sales/\", wait_until=\"commit\", timeout=10000)\n        \n        # -> Give the page a moment to load, then reload the app URL to attempt to render the SPA so the list view and pull-to-refresh can be tested.\n        await page.goto(\"http://localhost:5173/manowzab-sales/\", wait_until=\"commit\", timeout=10000)\n        \n        # -> Open the app in a new tab (fresh context) to attempt rendering the SPA, then wait for the page to load so list views and interactive elements can be located for pull-to-refresh testing.\n        await page.goto(\"http://localhost:5173/manowzab-sales/\", wait_until=\"commit\", timeout=10000)\n        \n        # -> Reload the app URL in the current tab with a cache-busting query parameter and wait for the page to load so list views and interactive elements can be located for pull-to-refresh testing.\n        await page.goto(\"http://localhost:5173/manowzab-sales/?_cb=3\", wait_until=\"commit\", timeout=10000)\n        \n        # -> Navigate to the app root (http://localhost:5173/) to check whether the server returns a valid page or error; wait for it to load so interactive elements (list views) can be located for pull-to-refresh testing.\n        await page.goto(\"http://localhost:5173/\", wait_until=\"commit\", timeout=10000)\n        \n        # -> Navigate to http://localhost:5173/?_cb=4 to force reload of root assets and wait for the page to load, then inspect interactive elements for list views to perform pull-to-refresh test.\n        await page.goto(\"http://localhost:5173/?_cb=4\", wait_until=\"commit\", timeout=10000)\n        \n        # -> Fill the login form with provided credentials and submit (Sign in) to access the dashboard so a list view can be located for the pull-to-refresh test.\n        frame = context.pages[-1]\n        # Input text\n        elem = frame.locator('xpath=html/body/div/div/div/form/div[1]/div[1]/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('peng24@gmail.com')\n        \n        frame = context.pages[-1]\n        # Input text\n        elem = frame.locator('xpath=html/body/div/div/div/form/div[1]/div[2]/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('peng24@31197012')\n        \n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=html/body/div/div/div/form/div[2]/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        # --> Assertions to verify final state\n        frame = context.pages[-1]\n        try:\n            await expect(frame.locator('text=Sales Data Updated').first).to_be_visible(timeout=3000)\n        except AssertionError:\n            raise AssertionError(\"Test case failed: Pull-to-refresh did not trigger a manual refresh — expected to see 'Sales Data Updated' confirming the loading indicator completed and the sales list was refreshed, but the confirmation was not visible\")\n        await asyncio.sleep(5)\n\n    finally:\n        if context:\n            await context.close()\n        if browser:\n            await browser.close()\n        if pw:\n            await pw.stop()\n\nasyncio.run(run_test())\n    ",
    "testStatus": "FAILED",
    "testError": "Verification result: FAILED — The pull-to-refresh component did not trigger an observable manual refresh during this session. Evidence captured:\n\n1) Pull-to-refresh indicator text (after attempts): ดึงลงเพื่อรีเฟรช (no loading text observed).\n\n2) Top 2 recent-orders before/after attempts (unchanged):\n- ORD-260204-PNZY — อมรา\n- TH47198B00EJ8G — คุณกนกวรรณ วารีสุวรรณ\n\n3) Visible dashboard timestamp / refresh status: 9 กุมภาพันธ์ 2569 (refresh status displayed as ดึงลงเพื่อรีเฟรช).\n\nActions performed: Loaded the app (cache-busted when necessary) and logged in with provided credentials; performed two pull-down gestures on the main list container (element indexes 503 and 1061) and re-read the UI. No loading indicator appeared and the sales list did not update.\n\nSuggested next steps (optional): test on a real mobile device or emulator with touch events enabled, confirm network/API responses during pull gesture, and verify front-end pull-to-refresh handler is invoked (e.g., console/network logs) because the UI did not show the expected loading state here.\n\nConclusion: Manual pull-to-refresh did not show a loading indicator or update data in this test session. Stopping as requested.",
    "testType": "FRONTEND",
    "createFrom": "mcp",
    "testVisualization": "https://testsprite-videos.s3.us-east-1.amazonaws.com/9448f488-3041-7031-4f14-e580690284c6/1770624355128016//tmp/test_task/result.webm",
    "created": "2026-02-09T07:58:52.965Z",
    "modified": "2026-02-09T08:05:55.271Z"
  },
  {
    "projectId": "2dd79580-0ea6-4ee2-b674-779917bbbb62",
    "testId": "e10f3be3-4feb-4734-97f8-41776481c1c0",
    "userId": "9448f488-3041-7031-4f14-e580690284c6",
    "title": "TC020-Sales Chart Component Data Visualization Accuracy",
    "description": "Verify that the sales chart component accurately displays stacked bar charts for Transfer and COD amounts with correct data labels.",
    "code": "import asyncio\nfrom playwright import async_api\n\nasync def run_test():\n    pw = None\n    browser = None\n    context = None\n\n    try:\n        # Start a Playwright session in asynchronous mode\n        pw = await async_api.async_playwright().start()\n\n        # Launch a Chromium browser in headless mode with custom arguments\n        browser = await pw.chromium.launch(\n            headless=True,\n            args=[\n                \"--window-size=1280,720\",         # Set the browser window size\n                \"--disable-dev-shm-usage\",        # Avoid using /dev/shm which can cause issues in containers\n                \"--ipc=host\",                     # Use host-level IPC for better stability\n                \"--single-process\"                # Run the browser in a single process mode\n            ],\n        )\n\n        # Create a new browser context (like an incognito window)\n        context = await browser.new_context()\n        context.set_default_timeout(5000)\n\n        # Open a new page in the browser context\n        page = await context.new_page()\n\n        # Navigate to your target URL and wait until the network request is committed\n        await page.goto(\"http://localhost:5173/manowzab-sales/\", wait_until=\"commit\", timeout=10000)\n\n        # Wait for the main page to reach DOMContentLoaded state (optional for stability)\n        try:\n            await page.wait_for_load_state(\"domcontentloaded\", timeout=3000)\n        except async_api.Error:\n            pass\n\n        # Iterate through all iframes and wait for them to load as well\n        for frame in page.frames:\n            try:\n                await frame.wait_for_load_state(\"domcontentloaded\", timeout=3000)\n            except async_api.Error:\n                pass\n\n        # Interact with the page elements to simulate user flow\n        # -> Navigate to http://localhost:5173/manowzab-sales/\n        await page.goto(\"http://localhost:5173/manowzab-sales/\", wait_until=\"commit\", timeout=10000)\n        \n        # -> Fill the email and password fields with provided credentials and submit the sign-in form to reach the dashboard.\n        frame = context.pages[-1]\n        # Input text\n        elem = frame.locator('xpath=html/body/div/div/div/form/div[1]/div[1]/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('peng24@gmail.com')\n        \n        frame = context.pages[-1]\n        # Input text\n        elem = frame.locator('xpath=html/body/div/div/div/form/div[1]/div[2]/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('peng24@31197012')\n        \n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=html/body/div/div/div/form/div[2]/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        # -> Extract the chart bar labels/values for the 'ยอดขายรายวัน' stacked bar chart, then open the time-range dropdown to change filter.\n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=html/body/div/div/div/main/div/div[2]/div/div[1]/div[2]/select').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        await asyncio.sleep(5)\n\n    finally:\n        if context:\n            await context.close()\n        if browser:\n            await browser.close()\n        if pw:\n            await pw.stop()\n\nasyncio.run(run_test())\n    ",
    "testStatus": "PASSED",
    "testError": "",
    "testType": "FRONTEND",
    "createFrom": "mcp",
    "testVisualization": "https://testsprite-videos.s3.us-east-1.amazonaws.com/9448f488-3041-7031-4f14-e580690284c6/1770624177795766//tmp/test_task/result.webm",
    "created": "2026-02-09T07:58:52.970Z",
    "modified": "2026-02-09T08:02:57.904Z"
  }
]
